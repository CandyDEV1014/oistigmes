{"version":3,"sources":["components/common/CustomBootstrap.js","api/eventsClient.ts","helpers/IntlMessages.js","containers/navs/Breadcrumb.js","api/homeClient.ts","components/parallax/parallaxItem.tsx","services/auth.service.ts","api/photoClient.ts","containers/pages/Pagination.js","layout/ClientLayoutHeader.tsx","components/svg/MobileMenuIcon.js","containers/navs/Topnav.js","constants/menu.js","containers/navs/Sidebar.js","containers/navs/Footer.js","layout/AppLayout.js","components/ImageSizer.tsx","views/portal/folder/EventFolderPhotos/Models/ShoppingCart.ts","views/portal/folder/EventFolderPhotos/Helpers/IsMobileHelper.ts","views/portal/folder/EventFolderPhotos/EventFolderPhotos.tsx","views/portal/folder/EventFolderPhotos/Models/Favourites.ts","views/portal/folder/EventFolderPhotos/Lightbox/ImageLightboxHeader.tsx","views/portal/folder/EventFolderPhotos/Lightbox/ImageLightBoxContainer.tsx","views/portal/folder/EventFolderPhotos/Lightbox/LightBoxShopping.tsx","views/portal/folder/EventFolderPhotos/Lightbox/ImageLightBoxView.tsx","views/portal/folder/EventFolderPhotos/Lightbox/ImageLightBoxFooter.tsx","views/portal/folder/EventFolderPhotos/ImageLightbox.tsx","views/index.js","views/dashboards/index.js","views/photoOrder/index.js","views/settings/index.js","views/portal/eventlogin/EventLogin.tsx","views/portal/folder/Folder.tsx","views/portal/favourites/Favourites.tsx","views/portal/direct/DirectEventView.tsx","views/portal/newaccount/NewAccountView.tsx","components/galleryUploader/ImageHelper.ts","components/galleryUploader/GalleryUploaderStep1.tsx","components/galleryUploader/GalleryUploaderStep2.tsx","components/galleryUploader/GalleryUploader.tsx","components/galleryUploader/GalleryUploaderStep3.tsx","components/galleryUploader/GalleryUploaderStep4.tsx","views/photoHosting/events/photos/photosView.tsx","views/photoHosting/settings/index.tsx","views/photoHosting/index.js","views/portal/folder/EventFolderPhotos/SummaryButton.tsx","views/portal/checkout/CheckoutForm.tsx","views/portal/checkout/Checkout.tsx","layout/ClientLayout.tsx","views/portal/index.tsx","views/portal/event/FolderItem.tsx","views/portal/event/Event.tsx","views/portal/photographer/EventItemView.tsx","views/portal/photographer/PhotographerView.tsx"],"names":["Colxx","props","widths","Separator","className","EmailLinkType","PictureFormatOrderEnum","EventClient","id","page","Axios","get","settings","post","event","Id","this","SaveEvent","FaceBookModel","s","headers","formData","FormData","key","append","eventId","folder","folderId","photoId","objectId","offset","mode","data","backOrNext","orderFav","store2","namespace","getAll","cookies","orderBy","guid","console","log","injectIntl","withRef","getMenuTitle","sub","getUrl","path","index","split","BreadcrumbItems","match","substr","paths","length","indexOf","filter","x","map","active","to","BreadcrumbContainer","heading","HomeClient","ParallaxItem","eventClient","heightPercent","parallaxEffectRun","setState","prevState","scrolled","document","body","scrollTop","documentElement","dimensionUpdateEvent","top","getOffsetFromProportions","state","proportions","windowWidth","window","innerWidth","handleMouseDown","clientX","clientY","canEdit","addEventListener","handleMouseMove","handleMouseUp","originalY","isDragging","translateY","lastTranslateY","positionTop","maxTop","getProportionsFromOffset","offsetTop","removeEventListener","updateEventHeaderPosition","onWheel","e","stopPropagation","onMouseEnter","showArrow","onMouseLeave","setBacgkroundSizes","width","height","backgroundNaturalHeight","backgroundNaturalWidth","edit","vh","Math","round","innerHeight","vw","SetCoverOffset","coverPhoto","src","replace","onLoad","w","h","onDragStart","preventDefault","onMouseDown","style","display","backgroundSize","justifyContent","alignItems","backgroundImage","backgroundPositionY","backgroundPositionX","backgroundHeight","marginTop","backgroundRepeat","position","overflow","outline","right","WebkitTouchCallout","WebkitUserSelect","KhtmlUserSelect","MozUserSelect","msUserSelect","userSelect","vhToPixels","vwToPixels","windowHeight","realImageWidth","scaledImageHeight","React","defaultProps","AuthService","store","token","remove","isAuthenticated","jwt_decode","PhotoClient","logo","promotion","mobileToken","password","Password","productId","visible","Visible","Pagination","totalPage","currentPage","numberLimit","lastIsActive","firstIsActive","onChangePage","startPoint","endPoint","parseInt","points","i","push","firstPageButtonClassName","lastPageButtonClassName","prevPageButtonClassName","nextPageButtonClassName","xxs","onClick","ClientLayoutHeader","backUrl","color","backText","favouriteUrl","icon","imageIcon","faImages","faHeart","favouriteText","checkoutUrl","checkoutText","searchUrl","searchText","Component","MobileMenuIcon","xmlns","viewBox","y","connect","menu","authUser","containerClassnames","menuClickCount","selectedMenuHasSubItems","locale","setContainerClassnamesAction","setContainerClassnames","clickOnMobileMenuAction","clickOnMobileMenu","changeLocaleAction","changeLocale","logoutUserAction","logout","intl","history","useState","location","_containerClassnames","mobileMenuButtonClick","href","UncontrolledDropdown","DropdownToggle","user","alt","DropdownMenu","DropdownItem","label","subs","exportButton","importButton","Sidebar","templateClient","TemplateClient","API_BASE","authService","handleWindowResize","isTrusted","nextClasses","getMenuClassesForResize","join","handleDocumentClick","container","getContainer","isMenuClick","target","classList","contains","parentElement","viewingParentMenu","toggle","classes","menuHiddenBreakpoint","subHiddenBreakpoint","includes","ReactDOM","findDOMNode","hasSubItems","getIsHasSubItem","changeSelectedMenuHasSubItems","currentClasses","clickIndex","handleProps","addEvents","forEach","removeEvents","setSelectedLiActive","callback","oldli","querySelector","oldliSub","selectedSublink","add","selectedlink","selectedParentMenu","getAttribute","selectedParentNoSubItem","menuItems","setHasSubItemStatus","hasSubmenu","menuItem","find","openSubMenu","selectedParent","hasSubMenu","addContainerClassname","toggleMenuCollapse","menuKey","collapsedMenus","exportModalOpen","importModalOpen","prevProps","pathname","scrollTo","NotificationManager","info","create","success","import","setTimeout","reload","error","options","suppressScrollX","wheelPropagation","Nav","vertical","item","NavItem","classnames","newWindow","rel","IntlMessages","data-flag","data-parent","Collapse","isOpen","thirdSub","thirdIndex","isLab","exportData","importData","Modal","ModalHeader","ModalBody","ModalFooter","Button","exportDataConfirm","importDataConfirm","withRouter","changeDefaultClassnames","Footer","Row","sm","children","ImageSizer","dimensions","onImgLoad","bind","img","naturalWidth","naturalHeight","OrderShoppingCart","foldersIds","shoppingCarts","ShoppingCart","peronalData","photoList","order","ClientFirstName","PhoneNumber","ClientLastName","Email","ExtraInformation","PhotoList","sc","folderOrder","getOrder","concat","then","response","GetXmlForOrder","scItem","getItem","shoppingCart","clear","formatIndex","hasFormat","count","getFormatItemCount","allPhotoCount","photos","cookieData","Cookie","ShoppingCartItem","photo","photoItem","p","Count","FileName","FileSize","FolderId","IsAlbum","Order","formatCount","value","OrderType","orderTypeMapping","Quantity","orderTypeIndex","getFormatCount","existed","addFormatCount","fc","toString","write","name","set","expires","addItem","save","Number","IsMobile","isMobile","screen","devicePixelRatio","MenuType","OrderFavourites","folderIds","favourites","Favourites","f","fav","favourite","isFavourite","JSON","parse","Array","isArray","existedIndex","splice","cookie","stringify","removeItem","ImageLightboxHeader","change","onClose","modalProps","toggleShopping","addToFavourite","currentView","filename","isAdmin","fasHeart","faTimes","ImageLightBoxContainer","innerProps","hasFooter","LightBoxShopping","showShopping","onChangeValue","valueAsNumber","onChangeByButton","hideShopping","onHideShopping","isEmptyOrSpaces","str","shoppingCartItem","formats","format","Fragment","Type","faMinus","onKeyDownCapture","type","onChange","faPlus","ImageLightBoxView","onSwipe","side","changeShopping","zoom","nextProps","onSwipedDown","onSwipedUp","ImageLightboxFooter","ImageLightbox","toggleModal","show","footer","allowFullscreen","closeOnBackdropClick","currentIndex","views","images","components","Header","Container","View","EventFolderPhotos","photoContainerRef","createRef","getShoppingCart","handleScroll","prevScrollpos","currentScrollPos","pageYOffset","scrollHeight","clientHeight","visiblePagination","onLoadImage","imageId","getImageProportion","calculateAspectRatioHeight","sizes","sendOrder","submitOrder","sendOrder2","submitOrder2","srcWidth","srcHeight","maxHeight","calculateAspectRatioWidth","maxWidth","isStandardAspectRatio","toFixed","imageRenderer","imgStyle","margin","direction","left","stateImages","filler","isFiller","openLightbox","deleteImage","formatFilter","hasAnyFormat","loadMore","loading","axios","PageSize","buySelector","lightbox","onCloseLightbox","onPageChange","selected","pageItemsCount","image","targetRowHeight","getTargetRowHeight","max","min","current","offsetWidth","img1","img2","ref","renderImage","photoCount","forcePage","previousLabel","faChevronLeft","nextLabel","faChevronRight","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","containerClassName","subContainerClassName","activeClassName","UrlThumbnail","imagesForLightBox","favouritesOnly","d","Object","assign","canLoad","Url","Name","Main","Dashboards","lazy","Dashboard","fallback","url","render","DefaultView","Products","Settings","Overview","Updates","Categories","Attributes","ProductWizard","PhotoOrder","exact","dataKey","EventLoginView","eventCient","redirectEvent","initialValues","eventPassword","onSubmit","values","formik","CheckEventPassword","EventId","EvnPassword","Error","setSubmitting","finally","md","errors","touched","row","for","placeholder","size","FolderView","changeFolder","next","ChangeFolder","params","redirect","Redirect","populateData","Data","Page","PageCount","eventData","marginBottom","parallaxData","CanEdit","CoverPhoto","Top","Mode","ObjectId","folderTitle","cursor","faAngleLeft","faAngleRight","eventFolderPhotos","photosCount","eventsList","FormatInfo","CurrentFolderName","CoverPhotoUrl","CoverOffset","eventFolderList","EventFolderPhotosFavourites2","self","EventCoverPhotoUrl","DirectEventView","currentState","EventNoPassword","eventGuid","BASE_URL","fontSize","NewAccountView","homeClient","Register","resetForm","catch","Login","Nickname","CompanyName","Phone","Key","handleSubmit","setFieldValue","setFieldTouched","isSubmitting","backgroundColor","ImageType","Step1","optionOneClick","optionTwoClick","textAlign","bsStyle","base64toBlob","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","slice","byteNumbers","charCodeAt","byteArray","Uint8Array","blob","Blob","blobToBase64","reader","FileReader","onloadend","result","readAsDataURL","resizeImage","file","fileType","quality","fr","onload","Image","imgType","Horizontal","ratio","Vertical","Resizer","imageFileResizer","uri","resizeImage2","addWatermark","watermark","watermarkjs","atPos","rotateImage","view","DataView","getUint16","byteLength","marker","getUint32","little","tags","readAsArrayBuffer","getOrientatio","orientation","srcOrientation","canvas","createElement","ctx","getContext","transform","drawImage","toDataURL","resetOrientation","base64","WatermarkType","Step2","preview","horizontal","onChangeWatermarkHorizontal","files","ImageHelper","watermarkHorizontalChange","base64Img","onChangeWatermarkVertical","watermarkVerticalChange","htmlFor","accept","Step3","onChangeFiles","onUpload","isPremium","multiple","disabled","Step4","uploadFile","uploadedFileIndex","rotatedImage","imageType","watermarkHorizontal","watermarkVertical","f2","CONFIG","subscriptionEnded","completeUpload","onUploadCompleted","upload","autostart","uploading","uploadCompleted","GalleryUplodader","hiddenFileInputRef","close","step","getElementById","click","onChangeOptionOneInput","fileNames","fileSizes","withCredentials","switchHeader","watermarkChange","showNextButton","nextState","onSelectedFiles","onCancel","modalOpen","wrapClassName","backdrop","hidden","onInput","PhotosView","showAddModal","previouseSubfolder","nextSubfolder","EventFoldersList","folders","Folders","findIndex","nextIntex","previouseIndex","paginationOptions","galleryPhotos","NavLink","photoIndex","onClickCapture","onDeletePhoto","DeletePhoto","newPhotos","folderInfo","pages","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","totalItems","ceil","PhotoHostingSettings","photoClient","photographerClient","PhotographerClient","HelpVideoMobile","HelpVideoDesktop","BannerUrl","loader","a","getId","BannerFile","fileName","videoUpdate","bannerPhotoUrl","showLoader","showCustomBanner","open","PhotographerDetails","MobileToken","helpVideoMobile","helpVideoDesktop","enableReinitialize","handleChange","handleBlur","submitForm","Breadcrumb","Card","CardBody","CardTitle","FormGroup","Label","InputGroup","faSpinner","spin","CustomInput","currentTarget","InputGroupAddon","addonType","FormText","OverviewView","UpdatesView","SubfolderView","AppLayout","component","SummaryButtonFilter","formatClick","onChangeFormat","currentFormatName","resetCart","select","confirm","currentSelect","onResetCart","onChangeSelect","filteredFormats","caret","float","CheckoutFormSchema","Yup","shape","required","email","initialState","CheckoutForm","actions","validationSchema","CheckoutView","showSendForm","showOrderSendForm","toggleForm","EventOrderSummary2","OrderBy","ClientLayout","ViewEvent","ViewEventLogin","ViewEventFolder","ViewFavourites","ViewCheckout","ViewDirectEvent","ViewPhotographer","ViewNewAccount","Portal","FolderItem","isImage","onImageError","lg","xl","CardImg","ThumbSrc","onError","CardSubtitle","EventView","firstFolderId","eventTitle","subfolder","EventName","EventItemView","FileSrc","PhotographerView","pageSizes","List","photographerId","events","EventsList","ev","reverse","PhotographerId"],"mappings":"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","file":"static/js/views.ddcf63f9.chunk.js","sourcesContent":["import React from 'react';\nimport { Col } from 'reactstrap';\n\nconst Colxx = (props) => (\n  <Col {...props} widths={['xxs', 'xs', 'sm', 'md', 'lg', 'xl', 'xxl']} />\n);\nconst Separator = ({ className }) => (\n  <div className={`separator ${className}`} />\n);\nexport { Colxx, Separator };\n","import Axios from \"axios\";\nimport * as settings from \"./settings\";\nimport { IApiResponse } from \"./IApiResponse\";\nimport { IEventPasswordViewModel } from \"../models/EventPasswordViewModel\";\nimport { OrderFavourites } from \"../views/portal/folder/EventFolderPhotos/Models/Favourites\";\nimport store2 from \"store2\";\n\nexport interface IEvent {\n    Id: number,\n    FileSrc: string,\n    FileName: string,\n    FileGuid: string,\n    Name: string,\n    IsEditMode: boolean,\n    PassProtected: boolean,\n    IsHidden: boolean,\n    NoPassKey: string\n}\n\nexport interface IEventClientListResponse {\n    EventsList: IEvent[]\n    Page: number,\n    PageSize: number,\n    PageCount: number,\n    EditMode: boolean,\n    SetPrivateMode: boolean,\n    CustomBackgroundUrl: string,\n    FontColor: string,\n    CoverPhotoUrl: string,\n    CoverOffset: number,\n    PhotographerId: string,\n    IsNewAccountUrl: boolean,\n    TypeOfMenu: number,\n    Notification: string\n}\n\nexport interface IAddEditEventDialogViewModel {\n    Id: number,\n    Name: string,\n    AdditionalInfo: string,\n    IsHidden: boolean,\n    FirstFormat: string,\n    FirstFormatPrice: number,\n    SecondFormat: string,\n    SecondFormatPrice: number,\n    ThirdFormat: string,\n    ThirdFormatPrice: number,\n    FourthFormat: string,\n    FourthFormatPrice: number,\n    NoPricing: boolean,\n    TimeToDelete: number,\n    EmailToClient: string,\n    Password: string,\n    LinkForEmail: string,\n    NoPassKey: string,\n    File: File | null\n}\n\nexport interface IAddEditFolderDialogViewModel {\n    Id: number,\n    EventId: number,\n    Name: string,\n    Password: string,\n    FolderCoverPhoto: File\n}\n\nexport enum EmailLinkType { LinkToGalery = 1, DirectLinkToEvent = 2, AddTourPersonal = 3 }\n\nexport enum PictureFormatOrderEnum {\n    Album = 0,\n    Standard = 1,\n    Large = 2,\n    Special = 3\n}\n\nexport class EventClient {\n\n    List(id: number, page?: number) {\n        return Axios.get<IApiResponse<IEventClientListResponse>>(`${settings.BASE_URL}/event/list/${id}`, settings.CONFIG);\n    }\n\n    Delete(id: number) {\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/event/DeleteEvent/${id}`, { id: id }, settings.CONFIG);\n    }\n\n    AddEvent(event: IAddEditEventDialogViewModel) {\n        event.Id = 0;\n        return this.SaveEvent(event);\n    }\n\n    EditEvent(event: IAddEditEventDialogViewModel) {\n        delete (event as any).FaceBookModel;\n        return this.SaveEvent(event);\n    }\n\n    SaveEvent(event: IAddEditEventDialogViewModel) {\n        let s = { ...settings.CONFIG }\n        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n\n        let formData = new FormData();\n\n        for (let key in event) {\n            if (event[key]) {\n                formData.append(key, event[key]);\n            }\n\n        }\n\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/event/SaveEvent`, formData, s);\n    }\n\n    EventFoldersList(eventId: number, page?: number) {\n        if (page != null) {\n            return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventFoldersList?eventId=${eventId}&page=${page}`, settings.CONFIG);\n        } else {\n            return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventFoldersList?eventId=${eventId}`, settings.CONFIG);\n        }\n    }\n\n    GetAddEventDialog(eventId: number) {\n        return Axios.post<IApiResponse<IAddEditEventDialogViewModel>>(`${settings.BASE_URL}/event/GetAddEventDialog/${eventId}`, {}, settings.CONFIG);\n    }\n\n    SaveFolder(folder: IAddEditFolderDialogViewModel) {\n        let s = { ...settings.CONFIG }\n        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n\n        let formData = new FormData();\n\n        for (let key in folder) {\n            formData.append(key, folder[key]);\n        }\n\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/event/SaveFolder`, formData, s);\n    }\n\n    DeleteFolder(eventId: number, folderId: number) {\n        return Axios.get<IApiResponse<boolean>>(`${settings.BASE_URL}/event/DeleteFolder?eventId=${eventId}&folderId=${folderId}`, settings.CONFIG);\n    }\n\n    EventFolderPhotos(folderId: number, page?: number) {\n        if (page) {\n            return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventFolderPhotos?folderId=${folderId}&page=${page}`, settings.CONFIG);\n        } else {\n            return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventFolderPhotos?folderId=${folderId}`, settings.CONFIG);\n        }\n\n\n    }\n\n    DeletePhoto(photoId: number) {\n        return Axios.get<IApiResponse<boolean>>(`${settings.BASE_URL}/Event/DeletePhoto?photoId=${photoId}`, settings.CONFIG);\n\n    }\n\n    GenerateEventXML(eventId: number) {\n        return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/GenerateEventXML?eventId=${eventId}`, settings.CONFIG);\n    }\n\n    SetCoverOffset(objectId: number, offset: number, mode: string) {\n        return Axios.post(`${settings.BASE_URL}/event/SetCoverOffset`, { objectId: objectId, offset: offset, mode: mode }, settings.CONFIG);\n    }\n\n    CheckEventPassword(data: IEventPasswordViewModel) {\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/event/CheckEventPassword`, data, settings.CONFIG);\n    }\n\n    ChangeFolder(folderId: number, backOrNext: boolean) {\n        return Axios.get<IApiResponse<boolean>>(`${settings.BASE_URL}/event/ChangeFolder?folderId=${folderId}&backOrNext=${backOrNext}`, settings.CONFIG);\n    }\n\n    EventFolderPhotosFavourites(folderId: number) {\n        return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventFolderPhotosFavourites?folderId=${folderId}`, settings.CONFIG);\n\n    }\n\n    EventFolderPhotosFavourites2(folderId: number) {\n        var orderFav = store2.namespace(\"Favourites\").getAll();\n        return Axios.post<IApiResponse<any>>(`${settings.BASE_URL}/event/EventFolderPhotosFavourites2`, { folderId: folderId, cookies: orderFav }, settings.CONFIG);\n\n    }\n\n    EventOrderSummary(folderId: number, orderBy?: PictureFormatOrderEnum) {\n        if (orderBy) {\n            return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventOrderSummary?folderId=${folderId}&orderBy=${orderBy}`, settings.CONFIG);\n        } else {\n            return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventOrderSummary?folderId=${folderId}`, settings.CONFIG);\n        }\n    }\n\n    EventOrderSummary2(folderId: number, orderBy?: PictureFormatOrderEnum) {\n        var orderFav = store2.namespace(\"EventPhotoCart\").getAll();\n        return Axios.post<IApiResponse<any>>(`${settings.BASE_URL}/event/EventOrderSummary2`, { folderId: folderId, orderBy: orderBy, cookies: orderFav }, settings.CONFIG);\n    }\n\n    EventNoPassword(guid: string) {\n        return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/event/EventNoPassword?guid=${guid}`, settings.CONFIG);\n    }\n\n    GetXmlForOrder(data: any) {\n        console.log(data);\n        return Axios.post<IApiResponse<any>>(`${settings.BASE_URL}/event/GetXmlForOrder`, data, settings.CONFIG);\n    }\n\n}","import React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nconst InjectMassage = (props) => <FormattedMessage {...props} />;\n\nexport default injectIntl(InjectMassage, {\n  withRef: false,\n});\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\nimport IntlMessages from '../../helpers/IntlMessages';\n\nconst getMenuTitle = (sub) => {\n  return <IntlMessages id={`menu.${sub}`} />;\n};\n\nconst getUrl = (path, sub, index) => {\n  if (index === 0) {\n    return '';\n  }\n  return path.split(sub)[0] + sub;\n};\n\nconst BreadcrumbContainer = ({ heading, match }) => {\n  return (\n    <>\n      {heading && (\n        <h1>\n          <IntlMessages id={heading} />\n        </h1>\n      )}\n      <BreadcrumbItems match={match} />\n    </>\n  );\n};\n\nconst BreadcrumbItems = ({ match }) => {\n  const path = match.path.substr(1);\n  let paths = path.split('/');\n  if (paths[paths.length - 1].indexOf(':') > -1) {\n    paths = paths.filter((x) => x.indexOf(':') === -1);\n  }\n  return (\n    <>\n      <Breadcrumb className=\"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block\">\n        {paths.map((sub, index) => {\n          return (\n            <BreadcrumbItem key={index} active={paths.length === index + 1}>\n              {paths.length !== index + 1 ? (\n                <NavLink to={`/${getUrl(path, sub, index)}`}>\n                  {getMenuTitle(sub)}\n                </NavLink>\n              ) : (\n                getMenuTitle(sub)\n              )}\n            </BreadcrumbItem>\n          );\n        })}\n      </Breadcrumb>\n    </>\n  );\n};\n\nexport default BreadcrumbContainer;\n","import Axios from \"axios\";\nimport * as settings from \"./settings\";\nimport { IApiResponse } from \"./IApiResponse\";\n\n\n\n\n\n\nexport class HomeClient {\n\n    PhotographerDetails() {\n        return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/home/photographerDetails`, settings.CONFIG);\n    }\n\n    Register(data: any) {\n        return Axios.post<IApiResponse<any>>(`${settings.BASE_URL}/home/register`, data, settings.CONFIG);\n    }\n}","import * as React from \"react\";\nimport axios from \"axios\";\nimport { ImageSizer } from \"../ImageSizer\";\nimport { EventClient } from \"../../api/eventsClient\";\n\n\ninterface ParallaxItemProps {\n    coverPhoto: string,\n    top: number,\n    canEdit: boolean,\n    objectId: number,\n    mode: string\n}\n\ninterface ParallaxItemState {\n    proportions: number,\n    top: number,\n    isDragging: boolean,\n    originalY: number,\n    translateY: number,\n    lastTranslateY: number,\n    edit: boolean,\n    canEdit: boolean,\n    showArrow: boolean,\n    backgroundNaturalWidth: number,\n    backgroundNaturalHeight: number,\n\n    windowWidth: number;\n    scrolled: number;\n}\n\nexport class ParallaxItem extends React.Component<ParallaxItemProps, ParallaxItemState> {\n\n    eventClient: EventClient;\n\n    heightPercent: number = 0.75;\n\n    public static defaultProps: Partial<ParallaxItemProps> = {\n        top: 0,\n        canEdit: true\n    };\n\n    constructor(props: ParallaxItemProps) {\n        super(props);\n\n        this.eventClient = new EventClient();\n\n        this.state = {\n            proportions: this.props.top,\n            top: this.getOffsetFromProportions(this.props.top),\n            isDragging: false,\n            originalY: 0,\n            translateY: 0,\n            lastTranslateY: 0,\n\n            edit: false,\n            canEdit: false,\n            showArrow: false,\n\n            backgroundNaturalHeight: 0,\n            backgroundNaturalWidth: 0,\n            windowWidth: window.innerWidth,\n            scrolled: 0\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.dimensionUpdateEvent);\n        window.addEventListener(\"scroll\", this.parallaxEffectRun);\n    }\n\n\n    componentWillUnmount() {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n        window.removeEventListener(\"scroll\", this.parallaxEffectRun);\n    }\n\n    parallaxEffectRun = () => {\n        this.setState(prevState => ({\n            ...prevState,\n            scrolled: document.body.scrollTop || document.documentElement.scrollTop\n        }));\n    }\n\n\n    dimensionUpdateEvent = () => {\n        this.setState(prevState => ({\n            ...prevState,\n            top: this.getOffsetFromProportions(this.state.proportions),\n            windowWidth: window.innerWidth\n        }));\n    }\n\n    get backgroundHeight() {\n        if (this.state.windowWidth > 992) {\n            return this.vhToPixels(this.heightPercent * 100) + \"px\";\n        } else {\n            return (this.vwToPixels(100) * this.state.backgroundNaturalHeight) / this.state.backgroundNaturalWidth;\n        }\n    }\n\n    handleMouseDown = ({ clientX, clientY }) => {\n        if (!this.props.canEdit) {\n            return;\n        }\n\n        window.addEventListener('mousemove', this.handleMouseMove);\n        window.addEventListener('mouseup', this.handleMouseUp);\n\n        this.setState({\n            originalY: clientY,\n            isDragging: true\n        });\n    };\n\n    handleMouseMove = ({ clientX, clientY }) => {\n        const { isDragging } = this.state;\n        if (!isDragging) {\n            return;\n        }\n\n\n        let translateY = clientY - this.state.originalY + this.state.lastTranslateY;\n\n\n        let positionTop = this.getOffsetFromProportions(this.props.top) + translateY;\n        if (positionTop > 0 || positionTop < this.maxTop) {\n            return;\n        }\n\n        this.setState(prevState => ({\n            proportions: this.getProportionsFromOffset(positionTop),\n            top: positionTop,\n            translateY: translateY\n        }));\n    };\n\n    get maxTop(): number {\n\n        let windowWidth = this.vwToPixels(100);\n        let windowHeight = this.vhToPixels(this.heightPercent * 100);\n\n        let realImageWidth = this.state.backgroundNaturalWidth;\n        let realImageHeight = this.state.backgroundNaturalHeight;\n\n        let scaledImageHeight = (windowWidth * realImageHeight) / realImageWidth;\n        if (windowHeight < scaledImageHeight) {\n            return windowHeight - scaledImageHeight + 20;\n        } else {\n            return scaledImageHeight - windowHeight + 20;\n        }\n    }\n\n    vhToPixels(vh: number) {\n        return Math.round(window.innerHeight / (100 / vh));\n    }\n\n    vwToPixels(vw: number) {\n        return Math.round(window.innerWidth / (100 / vw));\n    }\n\n    getProportionsFromOffset = (offsetTop: number) => {\n        return offsetTop / window.innerWidth;\n    }\n\n    getOffsetFromProportions = (proportions: number) => {\n        return proportions * window.innerWidth;\n    }\n\n\n    handleMouseUp = () => {\n        window.removeEventListener('mousemove', this.handleMouseMove);\n        window.removeEventListener('mouseup', this.handleMouseUp);\n\n        this.setState(\n            {\n                originalY: 0,\n                lastTranslateY: this.state.translateY,\n\n                isDragging: false\n            },\n            () => {\n                this.updateEventHeaderPosition();\n            }\n        );\n    };\n\n    onWheel = (e: React.WheelEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n    }\n\n    onMouseEnter = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        if (this.props.canEdit) {\n            this.setState({ showArrow: true });\n        }\n\n    }\n    onMouseLeave = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        this.setState({ showArrow: false });\n    }\n\n    updateEventHeaderPosition() {\n        this.eventClient.SetCoverOffset(this.props.objectId, this.getProportionsFromOffset(this.state.top), this.props.mode);\n    }\n\n    get backgroundPositionY(): number {\n        if (this.props.canEdit) {\n            return this.state.top;\n        } else {\n            if (this.state.windowWidth > 992) {\n                return (this.state.top + this.state.scrolled * 0.5);\n            } else {\n                return (this.state.scrolled * 0.5);\n            }\n        }\n\n    }\n\n    setBacgkroundSizes = (width: number, height: number) => {\n        this.setState(state => {\n            return {\n                ...state,\n                backgroundNaturalHeight: height,\n                backgroundNaturalWidth: width\n            }\n        });\n    }\n\n    render() {\n        return (<>\n            {this.props.coverPhoto &&\n                <div className=\"parallaxItem\">\n                    <ImageSizer src={this.props.coverPhoto.replace(/ /g, \"%20\")} onLoad={(w, h) => this.setBacgkroundSizes(w, h)} />\n                    <div onDragStart={e => e.preventDefault()} onMouseEnter={(e) => this.onMouseEnter(e)} onMouseLeave={(e) => this.onMouseLeave(e)} onWheel={(event) => this.onWheel(event)} onMouseDown={this.handleMouseDown} className=\"parallax\" id=\"marginBot\" style={{ display: \"flex\", backgroundSize: \"cover\", justifyContent: \"flex-end\", alignItems: \"center\", backgroundImage: `url(${this.props.coverPhoto.replace(/ /g, \"%20\")})`, backgroundPositionY: this.backgroundPositionY, backgroundPositionX: \"center\", width: \"100%\", height: this.backgroundHeight, marginTop: \"0\", backgroundRepeat: \"no-repeat\", position: \"relative\", overflow: \"hidden\" }} >\n                        {this.state.showArrow && <div className=\"disableSelection\" style={{\n                            outline: \"none\",\n                            height: \"200px\",\n                            right: \"-60px\",\n                            position: \"absolute\",\n                            WebkitTouchCallout: \"none\",\n                            WebkitUserSelect: \"none\",\n                            KhtmlUserSelect: \"none\",\n                            MozUserSelect: \"none\",\n                            msUserSelect: \"none\",\n                            userSelect: \"none\"\n                        }}>\n                            <img className=\"disableSelection\" style={{\n                                height: \"100%\",\n                            }} src=\"/assets/img/moveImage.png\" /></div>}\n                    </div>\n                </div>}\n        </>\n        );\n    }\n}\n\n\nexport default ParallaxItem;","import store from \"store2\";\nimport jwt_decode from \"jwt-decode\";\n\nexport class AuthService {\n    static key = \"token\";\n\n    public isAuthenticated() {\n        return store(AuthService.key) != null;\n    }\n\n    login(token: string) {\n        store(AuthService.key, token);\n    }\n\n    logout() {\n        store.remove(AuthService.key);\n    }\n\n    public getEmail() {\n        if (this.isAuthenticated()) {\n            var token: any = jwt_decode(store(AuthService.key));\n            return token[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\"]\n        }\n        return \"\";\n    }\n\n    public getId() {\n        if (this.isAuthenticated()) {\n            var token: any = jwt_decode(store(AuthService.key));\n            return token[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/primarysid\"]\n        }\n        return \"\";\n    }\n\n    public isLab() {\n        if (this.isAuthenticated()) {\n            var token: any = jwt_decode(store(AuthService.key));\n            return token[\"Labolatory\"] == \"True\"\n        }\n        return false;\n    }\n}","import Axios from \"axios\";\nimport * as settings from \"./settings\";\nimport { IApiResponse } from \"./IApiResponse\";\nimport { Form } from \"reactstrap\";\n\n\n\nexport class PhotoClient {\n    EditPhotographer(data: any) {\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/EditPhotographer`, data, settings.CONFIG);\n    }\n\n    SaveSoftwareSettings(logo: File, promotion: File, mobileToken: string) {\n        let s = { ...settings.CONFIG }\n        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n\n        let formData = new FormData();\n        formData.append(\"logo\", logo);\n        formData.append(\"promotion\", promotion);\n        formData.append(\"mobileToken\", mobileToken)\n\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/SaveSoftwareSettings`, formData, settings.CONFIG);\n    }\n\n    SetPassword(password: string) {\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/SetPassword`, { Password: password }, settings.CONFIG);\n    }\n\n    AddProduct(data: any) {\n        let s = { ...settings.CONFIG }\n        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/AddProduct`, data, settings.CONFIG);\n    }\n\n    EditProduct(data: any) {\n        let s = { ...settings.CONFIG }\n        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/EditProduct`, data, settings.CONFIG);\n    }\n\n    EditAutogeneratedProduct(data: any) {\n        let s = { ...settings.CONFIG }\n        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/EditAutogeneratedProduct`, data, settings.CONFIG);\n    }\n\n    DeleteProduct(productId: number) {\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/DeleteProduct`, { Id: productId }, settings.CONFIG);\n    }\n\n    ListProducts() {\n        return Axios.get<IApiResponse<any>>(`${settings.BASE_URL}/photo/ListProducts`, settings.CONFIG);\n    }\n\n    SetProductVisible(productId: number, visible: boolean) {\n        return Axios.post<IApiResponse<boolean>>(`${settings.BASE_URL}/photo/SetProductVisible`, { Id: productId, Visible: visible }, settings.CONFIG);\n\n    }\n}","import React from 'react';\nimport { Nav, NavItem, NavLink } from 'reactstrap';\nimport { Colxx } from '../../components/common/CustomBootstrap';\n\nconst Pagination = ({\n  totalPage = 0,\n  currentPage = 1,\n  numberLimit = 5,\n  lastIsActive = true,\n  firstIsActive = true,\n  onChangePage,\n}) => {\n  let startPoint = 1;\n  let endPoint = numberLimit;\n\n  if (numberLimit > totalPage) {\n    startPoint = 1;\n    endPoint = totalPage;\n  } else if (currentPage <= parseInt(numberLimit / 2, 10)) {\n    startPoint = 1;\n    endPoint = numberLimit;\n  } else if (currentPage + parseInt(numberLimit / 2, 10) <= totalPage) {\n    startPoint = currentPage - parseInt(numberLimit / 2, 10);\n    endPoint = currentPage + parseInt(numberLimit / 2, 10);\n  } else {\n    startPoint = totalPage - (numberLimit - 1);\n    endPoint = totalPage;\n  }\n  startPoint = startPoint === 0 ? 1 : startPoint;\n  const points = [];\n  for (let i = startPoint; i <= endPoint; i += 1) {\n    points.push(i);\n  }\n\n  const firstPageButtonClassName = currentPage <= 1 ? 'disabled' : '';\n  const lastPageButtonClassName = currentPage >= totalPage ? 'disabled' : '';\n  const prevPageButtonClassName = currentPage <= 1 ? 'disabled' : '';\n  const nextPageButtonClassName = currentPage >= totalPage ? 'disabled' : '';\n  return totalPage > 1 ? (\n    <Colxx xxs=\"12\" className=\"mt-3 mb-3\">\n      <Nav className=\"pagination justify-content-center\">\n        {firstIsActive && (\n          <NavItem className={`page-item ${firstPageButtonClassName}`}>\n            <NavLink\n              className=\"page-link first c-pointer\"\n              onClick={() => onChangePage(1)}\n            >\n              <i className=\"simple-icon-control-start\" />\n            </NavLink>\n          </NavItem>\n        )}\n\n        <NavItem className={`page-item ${prevPageButtonClassName}`}>\n          <NavLink\n            className=\"page-link prev c-pointer\"\n            onClick={() => onChangePage(currentPage - 1)}\n          >\n            <i className=\"simple-icon-arrow-left\" />\n          </NavLink>\n        </NavItem>\n        {points.map((i) => {\n          return (\n            <NavItem\n              key={i}\n              className={`page-item ${currentPage === i && 'active'}`}\n            >\n              <NavLink\n                className=\"page-link c-pointer\"\n                onClick={() => onChangePage(i)}\n              >\n                {i}\n              </NavLink>\n            </NavItem>\n          );\n        })}\n        <NavItem className={`page-item ${nextPageButtonClassName}`}>\n          <NavLink\n            className=\"page-link next c-pointer\"\n            onClick={() => onChangePage(currentPage + 1)}\n          >\n            <i className=\"simple-icon-arrow-right\" />\n          </NavLink>\n        </NavItem>\n        {lastIsActive && (\n          <NavItem className={`page-item ${lastPageButtonClassName}`}>\n            <NavLink\n              className=\"page-link last c-pointer\"\n              onClick={() => onChangePage(totalPage)}\n            >\n              <i className=\"simple-icon-control-end\" />\n            </NavLink>\n          </NavItem>\n        )}\n      </Nav>\n    </Colxx>\n  ) : (\n    <Colxx xxs=\"12\" className=\"mt-2\" />\n  );\n};\n\nexport default Pagination;\n","import React from \"react\";\nimport { Row, Button } from \"reactstrap\";\nimport { Colxx } from \"../components/common/CustomBootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart, faImages, } from \"@fortawesome/free-regular-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./ClientLayoutHeader.scss\";\n\nexport interface IClientHeaderProps {\n    backUrl?: string;\n    favouriteUrl?: string,\n    checkoutUrl?: string,\n    backText?: string,\n    favouriteText?: string,\n    checkoutText?: string,\n    imageIcon?: boolean,\n    searchUrl?: string,\n    searchText?: string\n\n}\n\nexport class ClientLayoutHeader extends React.Component<IClientHeaderProps, any> {\n    render() {\n        return (<div className=\"client-container-header\">\n            <Row className=\"h-100\">\n                <Colxx xxs=\"5\" className={\"pl-4 d-flex justify-content-flex-start align-items-center\"}>\n                    {this.props.backUrl && <Link to={this.props.backUrl}>\n                        <Button color=\"light\">\n                            {this.props.backText ? this.props.backText : \"Back\"}\n                        </Button>\n                    </Link>}\n\n                </Colxx>\n                <Colxx xxs=\"2\" className={\"d-flex justify-content-center align-items-center\"}>\n                    {this.props.favouriteUrl && <Link to={this.props.favouriteUrl} className=\"center-favourite-button\">\n                        <Button color=\"light\">\n                            <FontAwesomeIcon icon={this.props.imageIcon ? faImages : faHeart} />\n                        </Button>\n                    </Link>}\n                </Colxx>\n                <Colxx xxs=\"5\" className={\"pr-4 text-right d-flex justify-content-end align-items-center\"}>\n                    {this.props.favouriteUrl && <Link to={this.props.favouriteUrl} className={\"right-favourite-button\"}>\n                        <Button color=\"light\" className={\"mr-2\"}>\n                            <FontAwesomeIcon icon={this.props.imageIcon ? faImages : faHeart} /> {this.props.favouriteText ? this.props.favouriteText : \"Favourite\"}\n                        </Button>\n                    </Link>}\n                    {this.props.checkoutUrl && <Link to={this.props.checkoutUrl}>\n                        <Button color=\"success\">\n                            <img style={{ height: 18 }} src=\"/Content/Images/shoppingCart-full.png\" /> {this.props.checkoutText ? this.props.checkoutText : \"Checkout\"}\n                        </Button>\n                    </Link>}\n                    {this.props.searchUrl && <Link to={this.props.searchUrl}>\n                        <Button color=\"light\">\n                            <div className=\"glyph-icon simple-icon-magnifier d-inline-block\"></div> {this.props.checkoutText ? this.props.searchText : \"Event ID\"}\n                        </Button>\n                    </Link>}\n\n                </Colxx>\n\n            </Row>\n        </div >);\n    }\n}","import React from 'react';\n\nconst MobileMenuIcon = () => {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 17\">\n      <rect x=\"0.5\" y=\"0.5\" width=\"25\" height=\"1\" />\n      <rect x=\"0.5\" y=\"7.5\" width=\"25\" height=\"1\" />\n      <rect x=\"0.5\" y=\"15.5\" width=\"25\" height=\"1\" />\n    </svg>\n  );\n};\n\nexport default MobileMenuIcon;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable no-use-before-define */\nimport React, { useState } from 'react';\nimport { injectIntl } from 'react-intl';\n\nimport {\n  UncontrolledDropdown,\n  DropdownItem,\n  DropdownToggle,\n  DropdownMenu,\n} from 'reactstrap';\n\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport {\n  setContainerClassnames,\n  clickOnMobileMenu,\n  changeLocale,\n  logoutUser,\n  logout\n} from '../../redux/actions';\n\nimport {\n\n  searchPath,\n} from '../../constants/defaultValues';\n\nimport { MobileMenuIcon, MenuIcon } from '../../components/svg';\n\nconst TopNav = ({\n  intl,\n  history,\n  containerClassnames,\n  menuClickCount,\n  selectedMenuHasSubItems,\n  locale,\n  setContainerClassnamesAction,\n  clickOnMobileMenuAction,\n  changeLocaleAction,\n  authUser,\n  logoutUserAction\n}) => {\n  const [searchKeyword, setSearchKeyword] = useState('');\n\n  const search = () => {\n    history.push(`${searchPath}?key=${searchKeyword}`);\n    setSearchKeyword('');\n  };\n\n\n\n  const handleDocumentClickSearch = (e) => {\n    let isSearchClick = false;\n    if (\n      e.target &&\n      e.target.classList &&\n      (e.target.classList.contains('navbar') ||\n        e.target.classList.contains('simple-icon-magnifier'))\n    ) {\n      isSearchClick = true;\n      if (e.target.classList.contains('simple-icon-magnifier')) {\n        search();\n      }\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.classList &&\n      e.target.parentElement.classList.contains('search')\n    ) {\n      isSearchClick = true;\n    }\n\n    if (!isSearchClick) {\n      const input = document.querySelector('.mobile-view');\n      if (input && input.classList) input.classList.remove('mobile-view');\n      removeEventsSearch();\n      setSearchKeyword('');\n    }\n  };\n\n  const removeEventsSearch = () => {\n    document.removeEventListener('click', handleDocumentClickSearch, true);\n  };\n\n\n\n  const handleLogout = () => {\n    history.push(\"/user/login\");\n    logoutUserAction(history);\n  };\n\n  const menuButtonClick = (e, _clickCount, _conClassnames) => {\n    e.preventDefault();\n\n    setTimeout(() => {\n      const event = document.createEvent('HTMLEvents');\n      event.initEvent('resize', false, false);\n      window.dispatchEvent(event);\n    }, 350);\n    setContainerClassnamesAction(\n      _clickCount + 1,\n      _conClassnames,\n      selectedMenuHasSubItems\n    );\n  };\n\n  const mobileMenuButtonClick = (e, _containerClassnames) => {\n    e.preventDefault();\n    clickOnMobileMenuAction(_containerClassnames);\n  };\n\n  return (\n    <nav className=\"navbar fixed-top\">\n      <div className=\"d-flex align-items-center navbar-left\">\n        <NavLink\n          to=\"#\"\n          location={{}}\n          className=\"menu-button-mobile d-xs-block d-sm-block d-md-none\"\n          onClick={(e) => mobileMenuButtonClick(e, containerClassnames)}\n        >\n          <MobileMenuIcon />\n        </NavLink>\n      </div>\n      <a className=\"navbar-logo\" href=\"/\">\n        <span className=\"logo d-none d-xs-block\" />\n        <span className=\"logo-mobile d-block d-xs-none\" />\n      </a>\n\n      <div className=\"navbar-right\">\n        <div className=\"user d-inline-block\">\n          <UncontrolledDropdown className=\"dropdown-menu-right\">\n            <DropdownToggle className=\"p-0\" color=\"empty\">\n              <span className=\"name mr-1\">{authUser.user}</span>\n              <span>\n                <img alt=\"Profile\" src=\"/assets/img/photographer-avatar.jpg\" />\n              </span>\n            </DropdownToggle>\n            <DropdownMenu className=\"mt-3\" right>\n              <DropdownItem onClick={() => handleLogout()}>\n                Sign out\n              </DropdownItem>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nconst mapStateToProps = ({ menu, settings, authUser }) => {\n  const { containerClassnames, menuClickCount, selectedMenuHasSubItems } = menu;\n  const { locale } = settings;\n  return {\n    containerClassnames,\n    menuClickCount,\n    selectedMenuHasSubItems,\n    locale,\n    authUser\n  };\n};\nexport default injectIntl(\n  connect(mapStateToProps, {\n    setContainerClassnamesAction: setContainerClassnames,\n    clickOnMobileMenuAction: clickOnMobileMenu,\n    changeLocaleAction: changeLocale,\n    logoutUserAction: logout\n\n  })(TopNav)\n);\n","const data = [\n  {\n    id: 'dashboard',\n    icon: 'iconsminds-shop-4',\n    label: 'menu.dashboard',\n    to: '/dashboard',\n  },\n  {\n    id: 'photoorder',\n    icon: 'iconsminds-smartphone-4',\n    label: 'Photo order',\n    to: '/photo-order',\n    subs: [\n      {\n        icon: 'simple-icon-home',\n        label: 'Overview',\n        to: '/photo-order/overview',\n      },\n      {\n        icon: 'iconsminds-check',\n        label: 'Products',\n        to: '/photo-order/products',\n        subs: [\n          {\n            icon: 'iconsminds-magic-wand',\n            label: 'Add product',\n            to: '/photo-order/products/wizard',\n          },\n          {\n            icon: 'iconsminds-check',\n            label: 'Products',\n            to: '/photo-order/products',\n          },\n          {\n            icon: 'iconsminds-box-with-folders',\n            label: 'Categories',\n            to: '/photo-order/categories',\n          },\n          {\n            icon: 'iconsminds-pen',\n            label: 'Attributes',\n            to: '/photo-order/attributes',\n          },\n          {\n            icon: 'iconsminds-up-1',\n            label: 'Export',\n            exportButton: true,\n            to: '/data/export'\n          },\n          ,\n          {\n            icon: 'iconsminds-down-1',\n            label: 'Import',\n            importButton: true,\n            to: '/data/import'\n          },\n        ]\n      },\n      // {\n      //   icon: 'iconsminds-check',\n      //   label: 'Products 2',\n      //   to: '/photo-order/products2',\n      //   subs: [\n      //     {\n      //       icon: 'iconsminds-box-with-folders',\n      //       label: 'Categories',\n      //       to: '/photo-order/products2/categories',\n      //     },\n      //     {\n      //       icon: 'iconsminds-pen',\n      //       label: 'Attributes',\n      //       to: '/photo-order/products2/attributes',\n      //     },\n      //   ]\n      // },\n      {\n        icon: 'simple-icon-settings',\n        label: 'Settings',\n        to: '/photo-order/settings',\n      },\n      {\n        icon: 'iconsminds-plug-in',\n        label: 'Plug-ins',\n        to: '/photo-order/updates',\n      },\n    ],\n\n  },\n  {\n    id: 'photohosting',\n    icon: 'iconsminds-data-cloud',\n    label: 'Photo hosting',\n    to: '/photo-hosting',\n    subs: [\n      {\n        icon: 'simple-icon-home',\n        label: 'Overview',\n        to: '/photo-hosting/overview',\n      },\n      {\n        icon: 'iconsminds-photo',\n        label: 'Events',\n        to: '/photo-hosting',\n      },\n      {\n        icon: 'iconsminds-plug-in',\n        label: 'Plug-ins',\n        to: '/photo-hosting/updates',\n      },\n      {\n        icon: 'simple-icon-settings',\n        label: 'Settings',\n        to: '/photo-hosting/settings',\n      },\n    ],\n  },\n  {\n    id: 'settings',\n    icon: 'simple-icon-settings',\n    label: 'Settings',\n    to: '/settings'\n  },\n];\nexport default data;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { Nav, NavItem, Collapse } from 'reactstrap';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport classnames from 'classnames';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from 'reactstrap';\nimport { NotificationManager } from \"../../components/common/react-notifications\";\nimport IntlMessages from '../../helpers/IntlMessages';\nimport { API_BASE } from '../../api/ApiSettings';\n\nimport {\n  setContainerClassnames,\n  addContainerClassname,\n  changeDefaultClassnames,\n  changeSelectedMenuHasSubItems,\n} from '../../redux/actions';\n\nimport menuItems from '../../constants/menu';\nimport { TemplateClient } from '../../api/ApiClient';\nimport { AuthService } from '../../services/auth.service';\n\nclass Sidebar extends Component {\n  templateClient = new TemplateClient(API_BASE);\n  authService = new AuthService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedParentMenu: '',\n      viewingParentMenu: '',\n      collapsedMenus: [],\n      exportModalOpen: false,\n      importModalOpen: false,\n    };\n  }\n\n  handleWindowResize = (event) => {\n    if (event && !event.isTrusted) {\n      return;\n    }\n    const { containerClassnames } = this.props;\n    const nextClasses = this.getMenuClassesForResize(containerClassnames);\n    this.props.setContainerClassnames(\n      0,\n      nextClasses.join(' '),\n      this.props.selectedMenuHasSubItems\n    );\n  };\n\n  handleDocumentClick = (e) => {\n    const container = this.getContainer();\n    let isMenuClick = false;\n    if (\n      e.target &&\n      e.target.classList &&\n      (e.target.classList.contains('menu-button') ||\n        e.target.classList.contains('menu-button-mobile'))\n    ) {\n      isMenuClick = true;\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.classList &&\n      (e.target.parentElement.classList.contains('menu-button') ||\n        e.target.parentElement.classList.contains('menu-button-mobile'))\n    ) {\n      isMenuClick = true;\n    } else if (\n      e.target.parentElement &&\n      e.target.parentElement.parentElement &&\n      e.target.parentElement.parentElement.classList &&\n      (e.target.parentElement.parentElement.classList.contains('menu-button') ||\n        e.target.parentElement.parentElement.classList.contains(\n          'menu-button-mobile'\n        ))\n    ) {\n      isMenuClick = true;\n    }\n    if (container.contains(e.target) || container === e.target || isMenuClick) {\n      return;\n    }\n    this.setState({\n      viewingParentMenu: '',\n    });\n    this.toggle();\n  };\n\n  getMenuClassesForResize = (classes) => {\n    const { menuHiddenBreakpoint, subHiddenBreakpoint } = this.props;\n    let nextClasses = classes.split(' ').filter((x) => x !== '');\n    const windowWidth = window.innerWidth;\n    if (windowWidth < menuHiddenBreakpoint) {\n      nextClasses.push('menu-mobile');\n    } else if (windowWidth < subHiddenBreakpoint) {\n      nextClasses = nextClasses.filter((x) => x !== 'menu-mobile');\n      if (\n        nextClasses.includes('menu-default') &&\n        !nextClasses.includes('menu-sub-hidden')\n      ) {\n        nextClasses.push('menu-sub-hidden');\n      }\n    } else {\n      nextClasses = nextClasses.filter((x) => x !== 'menu-mobile');\n      if (\n        nextClasses.includes('menu-default') &&\n        nextClasses.includes('menu-sub-hidden')\n      ) {\n        nextClasses = nextClasses.filter((x) => x !== 'menu-sub-hidden');\n      }\n    }\n    return nextClasses;\n  };\n\n  getContainer = () => {\n    return ReactDOM.findDOMNode(this);\n  };\n\n  toggle = () => {\n    const hasSubItems = this.getIsHasSubItem();\n    this.props.changeSelectedMenuHasSubItems(hasSubItems);\n    const { containerClassnames, menuClickCount } = this.props;\n    const currentClasses = containerClassnames\n      ? containerClassnames.split(' ').filter((x) => x !== '')\n      : '';\n    let clickIndex = -1;\n\n    if (!hasSubItems) {\n      if (\n        currentClasses.includes('menu-default') &&\n        (menuClickCount % 4 === 0 || menuClickCount % 4 === 3)\n      ) {\n        clickIndex = 1;\n      } else if (\n        currentClasses.includes('menu-sub-hidden') &&\n        (menuClickCount === 2 || menuClickCount === 3)\n      ) {\n        clickIndex = 0;\n      } else if (\n        currentClasses.includes('menu-hidden') ||\n        currentClasses.includes('menu-mobile')\n      ) {\n        clickIndex = 0;\n      }\n    } else if (\n      currentClasses.includes('menu-sub-hidden') &&\n      menuClickCount === 3\n    ) {\n      clickIndex = 2;\n    } else if (\n      currentClasses.includes('menu-hidden') ||\n      currentClasses.includes('menu-mobile')\n    ) {\n      clickIndex = 0;\n    }\n    if (clickIndex >= 0) {\n      this.props.setContainerClassnames(\n        clickIndex,\n        containerClassnames,\n        hasSubItems\n      );\n    }\n  };\n\n  handleProps = () => {\n    this.addEvents();\n  };\n\n  addEvents = () => {\n    ['click', 'touchstart', 'touchend'].forEach((event) =>\n      document.addEventListener(event, this.handleDocumentClick, true)\n    );\n  };\n\n  removeEvents = () => {\n    ['click', 'touchstart', 'touchend'].forEach((event) =>\n      document.removeEventListener(event, this.handleDocumentClick, true)\n    );\n  };\n\n  setSelectedLiActive = (callback) => {\n    const oldli = document.querySelector('.sub-menu  li.active');\n    if (oldli != null) {\n      oldli.classList.remove('active');\n    }\n\n    const oldliSub = document.querySelector('.third-level-menu  li.active');\n    if (oldliSub != null) {\n      oldliSub.classList.remove('active');\n    }\n\n    /* set selected parent menu */\n    const selectedSublink = document.querySelector(\n      '.third-level-menu  a.active'\n    );\n    if (selectedSublink != null) {\n      selectedSublink.parentElement.classList.add('active');\n    }\n\n    const selectedlink = document.querySelector('.sub-menu  a.active');\n    if (selectedlink != null) {\n      selectedlink.parentElement.classList.add('active');\n      this.setState(\n        {\n          selectedParentMenu: selectedlink.parentElement.parentElement.getAttribute(\n            'data-parent'\n          ),\n        },\n        callback\n      );\n    } else {\n      const selectedParentNoSubItem = document.querySelector(\n        '.main-menu  li a.active'\n      );\n      if (selectedParentNoSubItem != null) {\n        this.setState(\n          {\n            selectedParentMenu: selectedParentNoSubItem.getAttribute(\n              'data-flag'\n            ),\n          },\n          callback\n        );\n      } else if (this.state.selectedParentMenu === '') {\n        this.setState(\n          {\n            selectedParentMenu: menuItems[0].id,\n          },\n          callback\n        );\n      }\n    }\n  };\n\n  setHasSubItemStatus = () => {\n    const hasSubmenu = this.getIsHasSubItem();\n    this.props.changeSelectedMenuHasSubItems(hasSubmenu);\n    this.toggle();\n  };\n\n  getIsHasSubItem = () => {\n    const { selectedParentMenu } = this.state;\n    const menuItem = menuItems.find((x) => x.id === selectedParentMenu);\n    if (menuItem)\n      return !!(menuItem && menuItem.subs && menuItem.subs.length > 0);\n    return false;\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setSelectedLiActive(this.setHasSubItemStatus);\n\n      window.scrollTo(0, 0);\n    }\n    this.handleProps();\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleWindowResize);\n    this.handleWindowResize();\n    this.handleProps();\n    this.setSelectedLiActive(this.setHasSubItemStatus);\n  }\n\n  componentWillUnmount() {\n    this.removeEvents();\n    window.removeEventListener('resize', this.handleWindowResize);\n  }\n\n  exportData(e) {\n    e.preventDefault();\n    this.setState({ exportModalOpen: true });\n  }\n\n  async exportDataConfirm() {\n    this.setState({ exportModalOpen: false });\n    NotificationManager.info(\"Exporting data\", 'Exporting', 3000, null, null, '');\n    var template = await this.templateClient.create();\n    if (template != null) {\n      NotificationManager.success(\"Data exported success\", 'Data exported', 3000, null, null, '');\n    }\n\n  }\n\n  importData(e) {\n    e.preventDefault();\n    this.setState({ importModalOpen: true });\n  }\n\n  async importDataConfirm() {\n    this.setState({ importModalOpen: false });\n    NotificationManager.info(\"Importing data\", 'Importing', 3000, null, null, '');\n    var template = await this.templateClient.import();\n    if (template == true) {\n      NotificationManager.success(\"Data imported success. Page will be reloaded.\", 'Data imported', 3000, null, null, '');\n      setTimeout(() => {\n        window.location.reload();\n      }, 3000);\n    } else {\n      NotificationManager.error(\"Data imported error\", 'Data imported', 3000, null, null, '');\n    }\n  }\n\n  openSubMenu = (e, menuItem) => {\n    const selectedParent = menuItem.id;\n    const hasSubMenu = menuItem.subs && menuItem.subs.length > 0;\n    this.props.changeSelectedMenuHasSubItems(hasSubMenu);\n    if (!hasSubMenu) {\n      this.setState({\n        viewingParentMenu: selectedParent,\n        selectedParentMenu: selectedParent,\n      });\n      this.toggle();\n    } else {\n      e.preventDefault();\n\n      const { containerClassnames, menuClickCount } = this.props;\n      const currentClasses = containerClassnames\n        ? containerClassnames.split(' ').filter((x) => x !== '')\n        : '';\n\n      if (!currentClasses.includes('menu-mobile')) {\n        if (\n          currentClasses.includes('menu-sub-hidden') &&\n          (menuClickCount === 2 || menuClickCount === 0)\n        ) {\n          this.props.setContainerClassnames(3, containerClassnames, hasSubMenu);\n        } else if (\n          currentClasses.includes('menu-hidden') &&\n          (menuClickCount === 1 || menuClickCount === 3)\n        ) {\n          this.props.setContainerClassnames(2, containerClassnames, hasSubMenu);\n        } else if (\n          currentClasses.includes('menu-default') &&\n          !currentClasses.includes('menu-sub-hidden') &&\n          (menuClickCount === 1 || menuClickCount === 3)\n        ) {\n          this.props.setContainerClassnames(0, containerClassnames, hasSubMenu);\n        }\n      } else {\n        this.props.addContainerClassname(\n          'sub-show-temporary',\n          containerClassnames\n        );\n      }\n      this.setState({\n        viewingParentMenu: selectedParent,\n      });\n    }\n  };\n\n  toggleMenuCollapse = (e, menuKey) => {\n    e.preventDefault();\n\n    const { collapsedMenus } = this.state;\n    if (collapsedMenus.indexOf(menuKey) > -1) {\n      this.setState({\n        collapsedMenus: collapsedMenus.filter((x) => x !== menuKey),\n      });\n    } else {\n      collapsedMenus.push(menuKey);\n      this.setState({\n        collapsedMenus,\n      });\n    }\n    return false;\n  };\n\n  render() {\n    const {\n      selectedParentMenu,\n      viewingParentMenu,\n      collapsedMenus,\n    } = this.state;\n    return (\n      <div className=\"sidebar\">\n        <div className=\"main-menu\">\n          <div className=\"scroll\">\n            <PerfectScrollbar\n              options={{ suppressScrollX: true, wheelPropagation: false }}\n            >\n              <Nav vertical className=\"list-unstyled\">\n                {menuItems &&\n                  menuItems.map((item) => {\n                    return (\n                      <NavItem\n                        key={item.id}\n                        className={classnames({\n                          active:\n                            (selectedParentMenu === item.id &&\n                              viewingParentMenu === '') ||\n                            viewingParentMenu === item.id,\n                        })}\n                      >\n                        {item.newWindow ? (\n                          <a\n                            href={item.to}\n                            rel=\"noopener noreferrer\"\n                            target=\"_blank\"\n                          >\n                            <i className={item.icon} />{' '}\n                            <IntlMessages id={item.label} />\n                          </a>\n                        ) : (\n                          <NavLink\n                            to={item.to}\n                            onClick={(e) => this.openSubMenu(e, item)}\n                            data-flag={item.id}\n                          >\n                            <i className={item.icon} />{' '}\n                            <IntlMessages id={item.label} />\n                          </NavLink>\n                        )}\n                      </NavItem>\n                    );\n                  })}\n              </Nav>\n            </PerfectScrollbar>\n          </div>\n        </div>\n\n        <div className=\"sub-menu\">\n          <div className=\"scroll\">\n            <PerfectScrollbar\n              options={{ suppressScrollX: true, wheelPropagation: false }}\n            >\n              {menuItems &&\n                menuItems.map((item) => {\n                  return (\n                    <Nav\n                      key={item.id}\n                      className={classnames({\n                        'd-block':\n                          (this.state.selectedParentMenu === item.id &&\n                            this.state.viewingParentMenu === '') ||\n                          this.state.viewingParentMenu === item.id,\n                      })}\n                      data-parent={item.id}\n                    >\n                      {item.subs &&\n                        item.subs.map((sub, index) => {\n                          return (\n                            <NavItem\n                              key={`${item.id}_${index}`}\n                              className={`${sub.subs && sub.subs.length > 0\n                                ? 'has-sub-item'\n                                : ''\n                                }`}\n                            >\n                              {sub.newWindow ? (\n                                <a\n                                  href={sub.to}\n                                  rel=\"noopener noreferrer\"\n                                  target=\"_blank\"\n                                >\n                                  <i className={sub.icon} />{' '}\n                                  <IntlMessages id={sub.label} />\n                                </a>\n                              ) : sub.subs && sub.subs.length > 0 ? (\n                                <>\n                                  <NavLink\n                                    className={`rotate-arrow-icon opacity-50 ${collapsedMenus.indexOf(\n                                      `${item.id}_${index}`\n                                    ) === -1\n                                      ? ''\n                                      : 'collapsed'\n                                      }`}\n                                    to={sub.to}\n                                    id={`${item.id}_${index}`}\n                                    onClick={(e) =>\n                                      this.toggleMenuCollapse(\n                                        e,\n                                        `${item.id}_${index}`\n                                      )\n                                    }\n                                  >\n                                    <i className=\"simple-icon-arrow-down\" />{' '}\n                                    <IntlMessages id={sub.label} />\n                                  </NavLink>\n\n                                  <Collapse\n                                    isOpen={\n                                      collapsedMenus.indexOf(\n                                        `${item.id}_${index}`\n                                      ) === -1\n                                    }\n                                  >\n                                    <Nav className=\"third-level-menu\">\n                                      {sub.subs.map((thirdSub, thirdIndex) => {\n                                        return (\n                                          <NavItem\n                                            key={`${item.id}_${index}_${thirdIndex}`}\n                                          >\n                                            {thirdSub.newWindow ? (\n                                              <a\n                                                href={thirdSub.to}\n                                                rel=\"noopener noreferrer\"\n                                                target=\"_blank\"\n                                              >\n                                                <i className={thirdSub.icon} />{' '}\n                                                <IntlMessages\n                                                  id={thirdSub.label}\n                                                />\n                                              </a>\n                                            ) :\n                                              thirdSub.exportButton == true && this.authService.isLab() ? (\n                                                <>\n                                                  <NavLink to={thirdSub.to} onClick={(e) => { this.exportData(e); }}>\n                                                    <i className={thirdSub.icon} />{' '}\n                                                    <IntlMessages\n                                                      id={thirdSub.label}\n                                                    />\n                                                  </NavLink>\n                                                </>\n                                              )\n                                                :\n                                                thirdSub.importButton == true && !this.authService.isLab() ? (\n                                                  <>\n                                                    <NavLink to={thirdSub.to} onClick={(e) => { this.importData(e); }}>\n                                                      <i className={thirdSub.icon} />{' '}\n                                                      <IntlMessages\n                                                        id={thirdSub.label}\n                                                      />\n                                                    </NavLink>\n                                                  </>\n                                                )\n                                                  :\n                                                  !thirdSub.importButton && !thirdSub.exportButton ?\n                                                    (\n                                                      <NavLink to={thirdSub.to}>\n                                                        <i className={thirdSub.icon} />{' '}\n                                                        <IntlMessages\n                                                          id={thirdSub.label}\n                                                        />\n                                                      </NavLink>\n                                                    )\n                                                    : \"\"}\n                                          </NavItem>\n                                        );\n                                      })}\n                                    </Nav>\n                                  </Collapse>\n                                </>\n                              ) :\n                                (\n                                  <NavLink to={sub.to}>\n                                    <i className={sub.icon} />{' '}\n                                    <IntlMessages id={sub.label} />\n                                  </NavLink>\n                                )}\n                            </NavItem>\n                          );\n                        })}\n                    </Nav>\n                  );\n                })}\n            </PerfectScrollbar>\n          </div>\n        </div>\n        <Modal\n          isOpen={this.state.exportModalOpen}\n          toggle={() => this.setState({ exportModalOpen: false })}\n        >\n          <ModalHeader>\n            <IntlMessages id=\"Export\" />\n          </ModalHeader>\n          <ModalBody>\n            You will export your current <strong>PRODUCTS</strong>, <strong>CATEGORIES</strong> and <strong>ATTRIBUTES</strong>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              color=\"primary\"\n              onClick={() => this.exportDataConfirm()}\n            >\n              Export\n            </Button>{' '}\n            <Button\n              color=\"secondary\"\n              onClick={() => this.setState({ exportModalOpen: false })}\n            >\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Modal\n          isOpen={this.state.importModalOpen}\n          toggle={() => this.setState({ importModalOpen: false })}\n        >\n          <ModalHeader>\n            <IntlMessages id=\"Export\" />\n          </ModalHeader>\n          <ModalBody>\n            You will import new <strong>PRODUCTS</strong>, <strong>CATEGORIES</strong> and <strong>ATTRIBUTES</strong>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              color=\"primary\"\n              onClick={() => this.importDataConfirm()}\n            >\n              Import\n            </Button>{' '}\n            <Button\n              color=\"secondary\"\n              onClick={() => this.setState({ importModalOpen: false })}\n            >\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n\n    );\n  }\n}\n\nconst mapStateToProps = ({ menu }) => {\n  const {\n    containerClassnames,\n    subHiddenBreakpoint,\n    menuHiddenBreakpoint,\n    menuClickCount,\n    selectedMenuHasSubItems,\n  } = menu;\n  return {\n    containerClassnames,\n    subHiddenBreakpoint,\n    menuHiddenBreakpoint,\n    menuClickCount,\n    selectedMenuHasSubItems,\n  };\n};\nexport default withRouter(\n  connect(mapStateToProps, {\n    setContainerClassnames,\n    addContainerClassname,\n    changeDefaultClassnames,\n    changeSelectedMenuHasSubItems,\n  })(Sidebar)\n);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Row } from 'reactstrap';\nimport { Colxx } from '../../components/common/CustomBootstrap';\n\nconst Footer = () => {\n  return (\n    <footer className=\"page-footer\">\n      <div className=\"footer-content\">\n        <div className=\"container-fluid\">\n          <Row>\n            <Colxx xxs=\"12\" sm=\"6\">\n              <p className=\"mb-0 text-muted\">Oistigmes.com 2020</p>\n            </Colxx>\n          </Row>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport TopNav from '../containers/navs/Topnav';\nimport Sidebar from '../containers/navs/Sidebar';\nimport Footer from '../containers/navs/Footer';\n\nconst AppLayout = ({ containerClassnames, children, history }) => {\n  return (\n    <div id=\"app-container\" className={containerClassnames}>\n      <TopNav history={history} />\n      <Sidebar />\n      <main className=\"gogo\">\n        <div className=\"container-fluid\">{children}</div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\nconst mapStateToProps = ({ menu }) => {\n  const { containerClassnames } = menu;\n  return { containerClassnames };\n};\nconst mapActionToProps = {};\n\nexport default withRouter(\n  connect(mapStateToProps, mapActionToProps)(AppLayout)\n);\n","import React from \"react\";\n\nexport interface IImageSizerProps {\n    src: string,\n    onLoad: (naturalWidth: number, naturalHeight: number) => void\n}\n\n\nexport class ImageSizer extends React.Component<IImageSizerProps> {\n    constructor(props: IImageSizerProps) {\n        super(props);\n        this.state = { dimensions: {} };\n        this.onImgLoad = this.onImgLoad.bind(this);\n    }\n    onImgLoad({ target: img }) {\n        this.props.onLoad(img.naturalWidth, img.naturalHeight);\n    }\n    render() {\n        return (<img style={{ width: 0, height: 0, display: \"none\" }} onLoad={this.onImgLoad} src={this.props.src} />);\n    }\n}","import * as Cookie from \"js-cookie\";\nimport Axios from \"axios\";\nimport { EventClient } from \"../../../../../api/eventsClient\";\nimport store2 from \"store2\";\n\nexport interface IShoppingCart {\n    getOrder(peronalData: IPersonalData, photoList: any[]): IOrder;\n    submitOrder(order: IOrder, eventId: number);\n    submitOrder2(order: IOrder, eventId: number);\n    getItem(photoId: number): ShoppingCartItem;\n    clear();\n    hasFormat(photoId: number, formatIndex: number): boolean;\n    getFormatItemCount(formatIndex: number): number;\n    allPhotoCount(): number\n}\n\nexport class OrderShoppingCart implements IShoppingCart {\n\n    shoppingCarts: ShoppingCart[] = [];\n\n    constructor(foldersIds: number[]) {\n        foldersIds.forEach(folderId => {\n            this.shoppingCarts.push(new ShoppingCart(folderId));\n        });\n    }\n\n    getOrder(peronalData: IPersonalData, photoList: { Id: number, FileName: string, FileSize: number }[]): IOrder {\n        let order: IOrder = {\n            Id: 0,\n            ClientFirstName: peronalData.ClientFirstName,\n            PhoneNumber: peronalData.PhoneNumber,\n            ClientLastName: peronalData.ClientLastName,\n            Email: peronalData.Email,\n            ExtraInformation: peronalData.ExtraInformation,\n            PhotoList: []\n        }\n\n        this.shoppingCarts.forEach(sc => {\n            order.Id = sc.folderId;\n            var folderOrder = sc.getOrder(peronalData, photoList);\n            order.PhotoList = order.PhotoList.concat(folderOrder.PhotoList);\n\n        });\n        return order;\n    }\n\n    submitOrder(order: IOrder, eventId: number) {\n        Axios.post(\"/Event/GetXmlForOrder\", order).then((response) => {\n            window.location.replace(\"/Event/EventFoldersList?completed=true&eventId=\" + eventId);\n        });\n    }\n\n    submitOrder2(order: IOrder, eventId: number) {\n        var eventClient = new EventClient();\n        return eventClient.GetXmlForOrder(order)\n    }\n\n    getItem(photoId: number): ShoppingCartItem {\n        let item: any = null;\n        this.shoppingCarts.forEach(sc => {\n            let scItem = sc.getItem(photoId);\n            if (scItem) {\n                item = scItem;\n            }\n        });\n        return item;\n    }\n    clear() {\n        this.shoppingCarts.forEach(shoppingCart => {\n            shoppingCart.clear();\n        });\n    }\n    hasFormat(photoId: number, formatIndex: number): boolean {\n        let hasFormat: boolean = false;\n        this.shoppingCarts.forEach(sc => {\n            if (sc.hasFormat(photoId, formatIndex)) {\n                hasFormat = true;\n            }\n        });\n        return hasFormat;\n    }\n    getFormatItemCount(formatIndex: number): number {\n        let count: number = 0;\n        this.shoppingCarts.forEach(sc => {\n            count += sc.getFormatItemCount(formatIndex);\n        });\n        return count;\n    }\n    allPhotoCount(): number {\n        let count: number = 0;\n        this.shoppingCarts.forEach(sc => {\n            count += sc.allPhotoCount();\n        });\n        return count;\n    }\n\n\n}\n\nexport class ShoppingCart implements IShoppingCart {\n    public folderId: number = 0;\n    photos: ShoppingCartItem[] = [];\n\n    constructor(folderId: number) {\n        let cookieData = Cookie.get(`EventPhotoCart${folderId}`);\n        this.folderId = folderId;\n        if (cookieData) {\n            var data = cookieData.split(\",\");\n\n            for (var i = 0; i < data.length; i++) {\n                this.photos.push(new ShoppingCartItem(data[i]));\n            }\n        }\n    }\n\n    clear() {\n        let store = store2.namespace(\"EventPhotoCart\");\n        store.remove(`EventPhotoCart${this.folderId}`);\n        Cookie.remove(`EventPhotoCart${this.folderId}`)\n    }\n\n    getOrder(peronalData: IPersonalData, photoList: { Id: number, FileName: string, FileSize: number }[]): IOrder {\n        let order: IOrder = {\n            Id: this.folderId,\n            ClientFirstName: peronalData.ClientFirstName,\n            PhoneNumber: peronalData.PhoneNumber,\n            ClientLastName: peronalData.ClientLastName,\n            Email: peronalData.Email,\n            ExtraInformation: peronalData.ExtraInformation,\n            PhotoList: []\n        }\n\n        this.photos.forEach((photo) => {\n\n            let photoItem = photoList.find(p => p.Id == photo.photoId);\n\n            let p: IPhotoListItem = {\n                Count: 0,\n                FileName: photoItem ? photoItem.FileName : \"\",\n                FileSize: photoItem ? photoItem.FileSize : 0,\n                FolderId: this.folderId,\n                Id: photo.photoId,\n                IsAlbum: false,\n                Order: []\n            }\n\n            photo.formatCount.forEach((value, index) => {\n                p.Order.push({ OrderType: this.orderTypeMapping(index), Quantity: value });\n            });\n\n            order.PhotoList.push(p);\n        });\n\n        return order;\n    }\n\n    orderTypeMapping(orderTypeIndex: number) {\n        switch (orderTypeIndex) {\n            case 0: return 1;\n            case 1: return 2;\n            case 2: return 3;\n            case 3: return 0;\n            default: return 1;\n        }\n    }\n\n    submitOrder(order: IOrder, eventId: number): void {\n        Axios.post(\"/Event/GetXmlForOrder\", order).then((response) => {\n            window.location.replace(\"/Event/EventFoldersList?completed=true&eventId=\" + eventId);\n        });\n    }\n\n    submitOrder2(order: IOrder, eventId: number) {\n        var eventClient = new EventClient();\n        return eventClient.GetXmlForOrder(order)\n    }\n\n    getItem(photoId: number): ShoppingCartItem {\n        return this.photos.find((item) => { return item.photoId == photoId }) as any;\n    }\n\n    hasFormat(photoId: number, formatIndex: number): boolean {\n        let photo = this.getItem(photoId);\n        if (photo && photo.getFormatCount(formatIndex) > 0) {\n            return true;\n        }\n\n        return false\n    }\n\n    addItem(photoId: number, formatIndex: number, value: number) {\n        let existed = this.photos.find((item) => { return item.photoId == photoId });\n        if (existed) {\n            existed.addFormatCount(formatIndex, value);\n        } else {\n            let item = new ShoppingCartItem();\n            item.photoId = photoId;\n            item.addFormatCount(formatIndex, value);\n            this.photos.push(item);\n        }\n    }\n\n    getFormatItemCount(formatIndex: number): number {\n        let count = 0;\n        this.photos.forEach(p => { count += p.getFormatCount(formatIndex) });\n        return count;\n    }\n\n    allPhotoCount(): number {\n        let count = 0;\n        this.photos.forEach(photo => {\n            photo.formatCount.forEach(fc => {\n                count += fc;\n            });\n        });\n        return count;\n    }\n\n    toString() {\n        let data: string[] = [];\n        this.photos.forEach(p => {\n            data.push(p.toString());\n        });\n        return data.join(\",\");\n    }\n\n    save() {\n        let cookie = Cookie.withConverter({\n            write: (value, name) => {\n                return value;\n            }\n        })\n        cookie.set(`EventPhotoCart${this.folderId}`, this.toString(), { expires: 365 });\n        let store = store2.namespace(\"EventPhotoCart\");\n        store.set(`EventPhotoCart${this.folderId}`, this.toString());\n    }\n\n    public static addItem(folderId: number, photoId: number, formatIndex: number, value: number) {\n        let sc = new ShoppingCart(folderId);\n        sc.addItem(photoId, formatIndex, value);\n        sc.save();\n    }\n}\n\nexport class ShoppingCartItem {\n    public photoId: number = 0;\n\n    public formatCount = [0, 0, 0, 0];\n\n    constructor(data?: string) {\n        if (data) {\n\n            let info = data.split(\":\");\n            this.photoId = Number(info[0]);\n            this.formatCount = [Number(info[1]), Number(info[2]), Number(info[3]), Number(info[4])]\n        }\n    }\n\n    addFormatCount(formatIndex: number, value: number) {\n        if (value < 0) {\n            return;\n        }\n        this.formatCount[formatIndex] = value;\n    }\n\n    getFormatCount(formatIndex: number) {\n        if (formatIndex > this.formatCount.length - 1) {\n            return 0;\n        }\n        return this.formatCount[formatIndex];\n    }\n\n    hasAnyFormat(): boolean {\n        let count = 0;\n        for (let i = 0; i < this.formatCount.length; i++) {\n            count += this.getFormatCount(i);\n        }\n\n        return count > 0;\n    }\n\n    toString() {\n        return `${this.photoId}:${this.formatCount[0]}:${this.formatCount[1]}:${this.formatCount[2]}:${this.formatCount[3]}`;\n    }\n}\n\nexport interface IPersonalData {\n    PhoneNumber: string,\n    ClientFirstName: string,\n    ClientLastName: string,\n    Email: string,\n    ExtraInformation: string,\n}\n\nexport interface IOrder {\n    Id: number,\n    PhoneNumber: string,\n    ClientFirstName: string,\n    ClientLastName: string,\n    Email: string,\n    ExtraInformation: string,\n    PhotoList: IPhotoListItem[]\n}\n\nexport interface IPhotoListItem {\n    IsAlbum: boolean,\n    Id: number,\n    Count: number,\n    FileName: string,\n    FileSize: number, //do pobrania\n    FolderId: number,\n    Order: IOrderItem[]\n}\n\nexport interface IOrderItem {\n    Quantity: number,\n    OrderType: number,\n\n}","\nimport { isMobile } from \"is-mobile\"\n\nexport function IsMobile() {\n    return isMobile() || window.screen.width * window.devicePixelRatio < 1100;\n}\n","/* eslint-disable */\n\nimport React from \"react\";\nimport Gallery, { RenderImageProps } from \"react-photo-gallery\";\nimport { ImageData } from \"./Models/Image\";\nimport axios from \"axios\";\nimport { ImageSizer } from \"../../../../components/ImageSizer\";\nimport { IsMobile } from \"./Helpers/IsMobileHelper\"\nimport ReactPaginate from \"react-paginate\";\nimport \"./EventFolderPhotos.scss\";\nimport { ImageLightbox, IImage } from \"./ImageLightbox\";\nimport { IFormat } from \"./Models/Format\";\nimport { IPersonalData, ShoppingCart, OrderShoppingCart, IShoppingCart } from \"./Models/ShoppingCart\";\nimport { Favourites, OrderFavourites } from \"./Models/Favourites\";\nimport classnames from \"classnames\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons'\n\n\nexport interface IEventFolderPhotosState {\n    sizes: { [key: number]: { width: number, height: number } },\n    data: ImageData[],\n    lightbox: {\n        isOpen: boolean,\n        currentIndex: number\n    },\n    loading: boolean,\n    targetRowHeight: number,\n    isMobile: boolean,\n    prevScrollpos: number,\n    visiblePagination: boolean,\n}\n\nexport enum MenuType { Buy = 0, FormatInfo = 1 }\n\nexport interface IEventFolderPhotosProps {\n    data: ImageData[],\n    isAdmin: boolean,\n    folder: string,\n    formats: IFormat[],\n    folderId: number,\n    photoCount: number\n    eventId: number,\n    canLoad: boolean,\n    formatFilter: number | null,\n    favouritesOnly: boolean | null,\n    foldersIds: number[] | null,\n    page: number,\n    onPageChange?: (page: number) => void\n}\n\n\n\nexport class EventFolderPhotos extends React.Component<IEventFolderPhotosProps, IEventFolderPhotosState> {\n\n    photoContainerRef = React.createRef<HTMLDivElement>();\n\n\n    constructor(props: IEventFolderPhotosProps) {\n        super(props);\n        console.log(props);\n        let shoppingCart = this.getShoppingCart();\n        this.state = {\n            sizes: {},\n            data: props.formatFilter != null ? this.props.data.filter(image => shoppingCart.hasFormat(image.Id, props.formatFilter as number)) : this.props.data,\n            lightbox: {\n                isOpen: false,\n                currentIndex: 0\n            },\n            loading: false,\n            targetRowHeight: this.getTargetRowHeight(),\n            isMobile: IsMobile(),\n            prevScrollpos: window.pageYOffset,\n            visiblePagination: false\n        }\n    }\n\n    getShoppingCart = (): IShoppingCart => {\n        let shoppingCart: IShoppingCart;\n        if (this.props.foldersIds != null && this.props.foldersIds.length > 0) {\n            shoppingCart = new OrderShoppingCart(this.props.foldersIds);\n        } else {\n            shoppingCart = new ShoppingCart(this.props.folderId);\n        }\n        return shoppingCart;\n    }\n\n    get stateImages() {\n        if (this.props.favouritesOnly) {\n            if (this.props.foldersIds) {\n                let favourite = new OrderFavourites(this.props.foldersIds);\n                return this.state.data.filter(d => favourite.isFavourite(d.Id));\n            }\n            return [];\n\n\n\n        } else {\n            return this.state.data;\n        }\n    }\n\n    getTargetRowHeight() {\n        let width = window.innerWidth;\n        let targetRowHeight = 0;\n        if (width > 600) {\n            targetRowHeight = 250;\n        } else if (width <= 600 && width > 360) {\n            targetRowHeight = 150;\n        } else {\n            targetRowHeight = 100;\n        }\n        return targetRowHeight;\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"resize\", () => {\n            this.setState({ isMobile: IsMobile() })\n        });\n\n        window.addEventListener(\"scroll\", this.handleScroll);\n    }\n\n    handleScroll = () => {\n        const { prevScrollpos } = this.state;\n\n        const currentScrollPos = window.pageYOffset;\n        const visible = prevScrollpos > currentScrollPos;\n\n\n        const winScroll =\n            document.body.scrollTop || document.documentElement.scrollTop\n\n        const height =\n            document.documentElement.scrollHeight -\n            document.documentElement.clientHeight\n\n        const scrolled = winScroll / height\n\n\n        this.setState({\n            prevScrollpos: currentScrollPos,\n            visiblePagination: (visible || scrolled > 0.95)\n        });\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", () => { });\n        window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n\n    getImageProportion(naturalWidth: number, naturalHeight: number) {\n        let data: number[] = [naturalWidth, naturalHeight];\n        let max = Math.max(...data);\n        let min = Math.min(...data);\n\n        return max / min;\n\n    }\n\n    onLoadImage = (imageId: number, naturalWidth: number, naturalHeight) => {\n\n        let width = 3;\n        let height = 2;\n\n        if (this.getImageProportion(naturalWidth, naturalHeight) == 1.5) {\n            if (naturalWidth < naturalHeight) {\n                height = 3;\n                width = 2;\n            }\n        } else {\n            height = 200;\n            width = this.calculateAspectRatioHeight(naturalWidth, naturalHeight, 200);\n\n        }\n\n        this.setState((prevState) => {\n            return {\n                ...prevState,\n                sizes: {\n                    ...prevState.sizes,\n                    [imageId]: {\n                        width: width,\n                        height: height\n                    }\n                }\n            }\n        });\n    }\n\n    get photos(): { src: string, width: number, height: number }[] {\n        if (this.stateImages == null || this.stateImages.length == 0) {\n            return [];\n        }\n        let data = this.stateImages.filter(image => this.state.sizes[image.Id] != null).map(data => { return { ...data, src: data.UrlThumbnail, width: this.state.sizes[data.Id].width, height: this.state.sizes[data.Id].height } });\n        if (data.length % 2 == 1) {\n            let filler = Object.assign({ isFiller: true }, data[data.length - 1]);\n            data.push(filler);\n        }\n        return data;\n    }\n\n    sendOrder = (data: IPersonalData, callback: (response) => void) => {\n        let shoppingCart = this.getShoppingCart();\n        shoppingCart.submitOrder(shoppingCart.getOrder(data, this.props.data), this.props.eventId);\n    }\n\n    public sendOrder2 = (data: IPersonalData) => {\n        let shoppingCart = this.getShoppingCart();\n        return shoppingCart.submitOrder2(shoppingCart.getOrder(data, this.props.data), this.props.eventId);\n    }\n\n    calculateAspectRatioHeight = (srcWidth, srcHeight, maxHeight) => {\n        return srcWidth * (maxHeight / srcHeight);\n    }\n\n    calculateAspectRatioWidth = (srcWidth, srcHeight, maxWidth) => {\n        return srcHeight * (maxWidth / srcWidth);\n    }\n\n    isStandardAspectRatio = (srcWidth: number, srcHeight: number) => {\n        if (srcWidth / srcHeight == 1.5 || (srcHeight / srcWidth).toFixed(2) == \"0.67\") {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n\n    getPhotoWidth(index: number): number {\n        let width = (this.photoContainerRef.current as HTMLDivElement).offsetWidth - 20;\n\n        if (index % 2 == 0) {\n            let img1 = this.photos[index];\n            let img2 = this.photos[index + 1] ? this.photos[index + 1] : this.photos[index];\n            let scale = img1.width / (img1.width + img2.width);\n            return width * scale;\n        } else {\n            let img1 = this.photos[index - 1];\n            let img2 = this.photos[index];\n            let scale = img2.width / (img1.width + img2.width);\n            return width * scale;\n        }\n    }\n\n    imageRenderer = (props: RenderImageProps) => {\n        let imgStyle: any = { margin: props.margin, display: 'block' };\n        if (props.direction === 'column') {\n            imgStyle.position = 'absolute';\n            imgStyle.left = props.left;\n            imgStyle.top = props.top;\n        }\n\n        if (this.stateImages.length > 3 || window.innerWidth < 665) {\n            imgStyle.width = props.photo.width;\n            imgStyle.height = props.photo.height;\n        } else {\n            imgStyle.width = this.calculateAspectRatioHeight(props.photo.width, props.photo.height, 200);\n            imgStyle.height = 200;\n        }\n\n        let filler: boolean = (props.photo as any).isFiller\n        let shoppingCart = this.getShoppingCart();\n\n        let favourite\n        if (this.props.foldersIds) {\n            favourite = new OrderFavourites(this.props.foldersIds);\n        } else {\n            favourite = new Favourites(this.props.folderId);\n        }\n\n\n\n        let photo = shoppingCart.getItem((props.photo as any).Id);\n        return (<div className={\"photoImage\" + (IsMobile() ? \" hovered\" : \"\")} style={imgStyle} key={\"photoImage-\" + props.index} onClick={(e) => { !filler ? this.openLightbox(props.index, false) : null }}>\n            {!filler && <img src={props.photo.src} style={{ width: \"100%\", height: \"100%\" }} />}\n            {this.props.isAdmin && !filler && <div className=\"adminMenu\" onClick={(event) => this.deleteImage(props.index, event)}><div className=\"adminMenuBackground\"></div><i className=\"far fa-trash-alt\"></i></div>}\n            {!this.props.isAdmin && !filler && <div className=\"menu\">\n                <div className=\"menuBackground\"></div>\n                <div className=\"menuItem leftMenu\" onClick={(e) => this.addToFavourite((props.photo as any).Id, (props.photo as any).FolderId, e)}>\n                    {!favourite.isFavourite((props.photo as any).Id) ? <img className=\"heartIcon\" src=\"/Content/Images/heart-o.png\" /> : <img className=\"heartIcon\" src=\"/Content/Images/heart.png\" />}\n                </div>\n                {this.props.formatFilter == null && <div className=\"menuItem\" onClick={() => this.openLightbox(props.index, true)}>\n                    {photo != null && photo.hasAnyFormat() ? <img className=\"cartIcon\" src=\"/Content/Images/shoppingCart-full.png\" /> : <img className=\"cartIcon\" src=\"/Content/Images/shoppingCart-empty.png\" />}\n                </div>\n                }\n                {this.props.formatFilter != null && <div className=\"menuFormat\" onClick={() => this.openLightbox(props.index, true)}>\n                    <div className=\"format\">{photo.getFormatCount(this.props.formatFilter)}</div>\n                </div>}\n            </div>}\n        </div>);\n    }\n\n    get loaderHasMore() {\n        return this.props.canLoad && this.state.data.length < this.props.photoCount && !this.state.loading;\n    }\n\n    get imagesForLightBox(): IImage[] {\n        return this.stateImages.map<IImage>(img => { return { src: img.Url, folder: this.props.folder, filename: img.Name, folderId: img.FolderId, photoId: img.Id } });\n    }\n\n    addToFavourite = (photoId: number, folderId: number, e: React.MouseEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n        if (Favourites.isFavourite(folderId, photoId)) {\n            Favourites.removeItem(folderId, photoId);\n        } else {\n            Favourites.addItem(folderId, photoId);\n        }\n        this.setState(this.state);\n    }\n\n    loadMore = (p) => {\n        this.setState({ loading: true }, () => {\n            axios.post(\"/Event/GetEventPhotosForGallery\", { folderId: this.props.folderId, page: p, PageSize: 35 }).then((response) => {\n                let images: ImageData[] = response.data;\n                if (images.length) {\n                    this.setState(prevState => {\n                        return {\n                            ...prevState,\n                            data: [...prevState.data, ...images],\n                            loading: false\n                        }\n                    })\n                }\n            });\n        });\n    }\n\n    deleteImage = (index: number, event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        event.stopPropagation();\n        axios.post(\"/Event/DeletePhoto\", { photoId: this.stateImages[index].Id }).then((response) => {\n            if (response.data == true) {\n                let images = [...this.stateImages];\n                images.splice(index, 1);\n                this.setState({ data: images });\n            }\n        });\n    }\n\n    openLightbox = (index: number, buySelector: boolean) => {\n        this.setState((prevState) => {\n            return {\n                ...prevState,\n                lightbox: {\n                    isOpen: true,\n                    currentIndex: index\n                }\n            }\n        });\n    }\n\n    onCloseLightbox = () => {\n        this.setState({\n            ...this.state, lightbox: {\n                ...this.state.lightbox,\n                isOpen: false\n            }\n        });\n    }\n\n    onPageChange = (data: { selected: number }) => {\n        if (this.props.onPageChange) {\n            this.props.onPageChange((data.selected + 1));\n        }\n    }\n\n    pageItemsCount: number = 50;\n\n    get pageCount() {\n        return this.props.photoCount / this.pageItemsCount;\n    }\n\n    render() {\n        return (<div className={\"eventFolderPhotos \" + (this.state.isMobile ? \"eventFolderPhotosMobile\" : \"\")} ref={this.photoContainerRef}>\n            <Gallery targetRowHeight={this.state.targetRowHeight} margin={5} photos={this.photos} renderImage={this.imageRenderer} />\n            <div className={classnames(\"paginationContainer fixed\", { \"animate__animated animate__slideOutDown animate__fast\": !this.state.visiblePagination, \"animate__animated animate__slideInUp animate__fast\": this.state.visiblePagination, })}>\n                <div className=\"background\"></div>\n                {this.props.photoCount > this.pageItemsCount && this.props.page != null && <ReactPaginate\n                    forcePage={this.props.page - 1}\n                    previousLabel={<div><FontAwesomeIcon icon={faChevronLeft} /></div>}\n                    nextLabel={<div><FontAwesomeIcon icon={faChevronRight} /></div>}\n                    breakLabel={'...'}\n                    breakClassName={'break-me'}\n                    pageCount={this.pageCount}\n                    marginPagesDisplayed={this.state.isMobile ? 1 : 5}\n                    pageRangeDisplayed={this.state.isMobile ? 1 : 5}\n                    onPageChange={this.onPageChange}\n                    containerClassName={'pagination'}\n                    subContainerClassName={'pages pagination'}\n                    activeClassName={'active'}\n                />}\n            </div>\n\n            {this.stateImages.map((image, index) => {\n                return (<ImageSizer key={\"imageSizer-\" + index} src={image.UrlThumbnail} onLoad={(naturalWidth, naturalHeight) => { this.onLoadImage(image.Id, naturalWidth, naturalHeight) }} />)\n            })}\n            <ImageLightbox formats={this.props.formats} isAdmin={this.props.isAdmin} isOpen={this.state.lightbox.isOpen} images={this.imagesForLightBox} onClose={this.onCloseLightbox} currentIndex={this.state.lightbox.currentIndex} />\n        </div>)\n    }\n}\n\nexport default EventFolderPhotos;","import * as Cookie from \"js-cookie\";\nimport store2 from \"store2\";\n\nexport class OrderFavourites {\n\n    favourites: Favourites[] = [];\n\n    constructor(folderIds: number[]) {\n        folderIds.forEach(folderId => {\n            this.favourites.push(new Favourites(folderId));\n        });\n    }\n\n    clear() {\n        this.favourites.forEach(f => {\n            f.clear();\n        });\n    }\n\n    isFavourite(photoId: number): boolean {\n        let fav = false;\n        this.favourites.forEach(favourite => {\n            if (favourite.isFavourite(photoId)) {\n                fav = true;\n            }\n        });\n        return fav;\n    }\n\n}\n\nexport class Favourites {\n    public folderId: number = 0;\n    photos: number[] = [];\n\n    constructor(folderId: number) {\n        let cookieData = Cookie.get(`Favourites${folderId}`);\n        this.folderId = folderId;\n        if (cookieData) {\n            try {\n                var data = JSON.parse(cookieData);\n                if (Array.isArray(data)) {\n                    this.photos = data;\n                }\n            } catch (e) {\n\n            }\n        }\n    }\n\n    clear() {\n        let store = store2.namespace(\"Favourites\");\n        store.remove(`Favourites${this.folderId}`);\n        Cookie.remove(`Favourites${this.folderId}`);\n    }\n\n    addItem(photoId: number) {\n        let existed = this.photos.find((item) => { return item == photoId });\n        if (!existed) {\n            this.photos.push(photoId);\n            this.save();\n        }\n    }\n\n    removeItem(photoId: number) {\n        let existedIndex = this.photos.indexOf(photoId);\n        if (existedIndex > -1) {\n            this.photos.splice(existedIndex, 1);\n            this.save();\n        }\n    }\n\n    isFavourite(photoId: number): boolean {\n        return this.photos.indexOf(photoId) > -1;\n    }\n\n    save() {\n        let cookie = Cookie.withConverter({\n            write: (value, name) => {\n                return value;\n            }\n        })\n\n        let store = store2.namespace(\"Favourites\");\n        store.set(`Favourites${this.folderId}`, this.toString());\n\n        cookie.set(`Favourites${this.folderId}`, this.toString(), { expires: 365, })\n    }\n\n    toString(): string {\n        return JSON.stringify(this.photos);\n    }\n\n    public static removeItem(folderId: number, photoId: number) {\n        let sc = new Favourites(folderId);\n        sc.removeItem(photoId);\n        sc.save();\n    }\n\n    public static addItem(folderId: number, photoId: number) {\n        let sc = new Favourites(folderId);\n        sc.addItem(photoId);\n        sc.save();\n    }\n\n    public static isFavourite(folderId: number, photoId: number): boolean {\n        let sc = new Favourites(folderId);\n        return sc.isFavourite(photoId);\n    }\n}\n","import React from \"react\";\nimport { IImage } from \"../ImageLightbox\";\nimport { IsMobile as isMobile } from '../Helpers/IsMobileHelper';\nimport \"./ImageLightBoxHeader.scss\";\nimport { Favourites } from \"../Models/Favourites\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart, faTimes, } from '@fortawesome/free-solid-svg-icons'\nimport { faHeart as fasHeart } from \"@fortawesome/free-regular-svg-icons\"\n\nexport class ImageLightboxHeader extends React.Component<any, any> {\n\n    state = {\n        change: false\n    }\n\n\n    onClose = () => {\n        this.props.modalProps.onClose();\n    }\n\n    toggleShopping = () => {\n        if (this.props.toggleShopping) {\n            this.props.toggleShopping();\n        }\n    }\n\n    addToFavourite = () => {\n        let data: IImage = this.props.currentView;\n        if (Favourites.isFavourite(data.folderId, data.photoId)) {\n            Favourites.removeItem(data.folderId, data.photoId);\n        } else {\n            Favourites.addItem(data.folderId, data.photoId);\n        }\n\n        this.setState({ change: !this.state.change })\n    }\n\n    isFavourite = (): boolean => {\n        let data: IImage = this.props.currentView\n        return Favourites.isFavourite(data.folderId, data.photoId);\n    }\n\n    render() {\n        let data: IImage = this.props.currentView\n        return (<div className=\"imageLightboxHeader\">\n            <div className=\"leftContainer\">\n                <div className=\"folderName\">{data.folder}</div>\n                <div className=\"fileName\">{data.filename}</div>\n            </div>\n            <div className=\"rightContainer\">\n                {!this.props.isAdmin && !isMobile() && <div className=\"favouriteButton\" onClick={this.addToFavourite} >{!this.isFavourite() ? <FontAwesomeIcon icon={fasHeart} /> : <FontAwesomeIcon icon={faHeart} />}</div>}\n                {!this.props.isAdmin && !isMobile() && <div className=\"shoppingButton\" onClick={this.toggleShopping}><img src=\"/Content/Images/productIcon-bold.png\" /></div>}\n                <div className=\"closeButton\" onClick={this.onClose}><FontAwesomeIcon icon={faTimes} /></div>\n            </div>\n        </div>)\n    }\n}\n\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { IsMobile as isMobile } from '../Helpers/IsMobileHelper';\n\n\nimport \"./ImageLightBoxContainer.scss\";\n\nexport class ImageLightBoxContainer extends React.Component<any, any> {\n\n    render() {\n        const { children, innerProps } = this.props;\n        return (<div className={classnames(\"imageLightBoxContainer\", { \"footerOn\": this.props.hasFooter, \"mobileView\": isMobile() })}>{children}</div>)\n    }\n}","import React from \"react\";\nimport classnames from \"classnames\";\nimport \"animate.css/animate.min.css\";\nimport \"./LightBoxShopping.scss\"\nimport { IFormat } from \"../Models/Format\";\nimport { ShoppingCart } from \"../Models/ShoppingCart\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons'\n\nexport interface ILightBoxShopping {\n    formats: IFormat[],\n    isAdmin: boolean,\n    showShopping: boolean,\n    photoId: number,\n    folderId: number,\n    onHideShopping: () => void\n}\n\nexport interface ILightBoxShoppingState {\n    data: { [key: number]: number };\n    showShopping: boolean\n}\n\nexport class LightBoxShopping extends React.Component<ILightBoxShopping, ILightBoxShoppingState> {\n    state = {\n        data: {},\n        showShopping: false\n    }\n\n\n    constructor(props: ILightBoxShopping) {\n        super(props);\n        this.state.data = {};\n        let sc = new ShoppingCart(this.props.folderId);\n        let shoppingCartItem = sc.getItem(props.photoId);\n        props.formats.forEach((format, index) => {\n            this.state.data[index] = 0\n            if (shoppingCartItem != null) {\n                this.state.data[index] = shoppingCartItem.getFormatCount(index);\n            }\n        })\n    }\n\n\n    onChangeValue = (index: any, e: React.ChangeEvent<HTMLInputElement>) => {\n        let value = e.target.valueAsNumber;\n\n        if (this.state.data[index] == null || value < 0) {\n            return;\n        }\n\n        this.setState(prevState => {\n            ShoppingCart.addItem(this.props.folderId, this.props.photoId, index, value);\n            return {\n                ...prevState,\n                data: {\n                    ...prevState.data,\n                    [index]: value\n                }\n            }\n        });\n    }\n\n    onChangeByButton = (index: number, value: number) => {\n        if (this.state.data[index] == null || this.state.data[index] + value < 0) {\n            return;\n        }\n\n        this.setState(prevState => {\n            ShoppingCart.addItem(this.props.folderId, this.props.photoId, index, this.state.data[index] + value);\n            return {\n                ...prevState,\n                data: {\n                    ...prevState.data,\n                    [index]: prevState.data[index] + value\n                }\n            }\n        });\n    }\n\n    hideShopping = () => {\n        if (this.props.onHideShopping) {\n            this.props.onHideShopping();\n        }\n    }\n\n    get showShopping(): boolean {\n        return this.props.showShopping || this.state.showShopping;\n    }\n    isEmptyOrSpaces = (str) => {\n        return str === null || str.match(/^ *$/) !== null;\n    }\n\n\n    render() {\n        return (\n            <div className={classnames(\"lightBoxShopping\", { \"showed\": this.showShopping })}>\n                {this.showShopping && <React.Fragment>\n\n                    <div className=\"background\"></div>\n                    <div className=\"header\" onClick={() => this.hideShopping()}><img src=\"/Content/Images/productIcon-normal.png\" />\n                        <div>Hide products</div>\n                    </div>\n                    {this.props.formats.map((format, index) => {\n                        if (this.isEmptyOrSpaces(format.Type)) {\n                            return (<div></div>);\n                        } else {\n                            return (<div className=\"formatData\" key={\"formatData\" + index}>\n                                <div className=\"formatName\">{format.Type}</div>\n                                <div className=\"formatButtons\"><div className=\"formatButton\" onClick={() => this.onChangeByButton(index, -1)}><FontAwesomeIcon icon={faMinus} /></div><div>\n                                    <input onKeyDownCapture={(e) => e.stopPropagation()} value={this.state.data[index]} className=\"formatCount\" type=\"number\" onChange={e => this.onChangeValue(index, e)} /></div><div className=\"formatButton\" onClick={() => this.onChangeByButton(index, 1)}><FontAwesomeIcon icon={faPlus} /></div></div>\n                            </div>);\n                        }\n\n                    })}\n                </React.Fragment>}\n            </div>\n        )\n    }\n}","import React from \"react\";\nimport { IsMobile as isMobile, IsMobile } from '../Helpers/IsMobileHelper';\nimport \"./ImageLightBoxView.scss\";\nimport { LightBoxShopping } from \"./LightBoxShopping\";\nimport * as classnames from \"classnames\";\nimport { Swipeable } from \"react-swipeable\";\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\n\nexport interface IImageLightBoxViewState {\n    showShopping: boolean,\n    zoom: boolean\n}\n\nexport class ImageLightBoxView extends React.Component<any, IImageLightBoxViewState> {\n\n    constructor(props) {\n        super(props);\n\n\n        this.state = {\n            showShopping: this.props.showShopping,\n            zoom: false\n        }\n    }\n\n    toggleShopping = () => {\n        this.setState({ showShopping: !this.state.showShopping });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.showShopping != this.state.showShopping) {\n            this.setState({ showShopping: nextProps.showShopping });\n        }\n    }\n\n    get showShopping(): boolean {\n        return this.state.showShopping;\n    }\n\n    onSwipe = (side: \"up\" | \"down\") => {\n        if (side == \"down\") {\n            this.setState({ showShopping: false });\n        } else if (side == \"up\") {\n            this.setState({ showShopping: true });\n        }\n    }\n\n    onHideShopping = () => {\n        if (this.props.changeShopping) {\n            this.props.changeShopping(false);\n        }\n    }\n\n    render() {\n        return (\n            <Swipeable onSwipedDown={() => this.onSwipe(\"down\")} onSwipedUp={() => this.onSwipe(\"up\")}>\n\n                <div className=\"imageLightBoxView\">\n\n                    <div className={\"imgContainer\" + (this.showShopping ? \" margin-80\" : \"\")}>\n                        <img alt={this.props.data.filename} src={this.props.data.src} />\n                    </div>\n\n\n                    {this.showShopping && <div className={classnames(\"shoppingContainer\", { \"mobile\": isMobile() })}><LightBoxShopping onHideShopping={() => this.onHideShopping()} photoId={this.props.data.photoId} folderId={this.props.data.folderId} isAdmin={this.props.isAdmin} showShopping={this.showShopping} formats={this.props.formats} /></div>}\n                </div>\n            </Swipeable >\n        )\n    }\n}","import React from \"react\";\nimport { IImage } from \"../ImageLightbox\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n// import \"./ImageLightboxFooter.scss\";\nimport { Favourites } from \"../Models/Favourites\";\n\n\nexport class ImageLightboxFooter extends React.Component<any, any> {\n\n    state = {\n        change: false\n    }\n\n    onClose = () => {\n        this.props.modalProps.onClose();\n    }\n\n    toggleShopping = () => {\n        if (this.props.toggleShopping) {\n            this.props.toggleShopping();\n        }\n    }\n\n    addToFavourite = () => {\n        let data: IImage = this.props.currentView;\n        if (Favourites.isFavourite(data.folderId, data.photoId)) {\n            Favourites.removeItem(data.folderId, data.photoId);\n        } else {\n            Favourites.addItem(data.folderId, data.photoId);\n        }\n\n        this.setState({ change: !this.state.change })\n    }\n\n    isFavourite = (): boolean => {\n        let data: IImage = this.props.currentView\n        return Favourites.isFavourite(data.folderId, data.photoId);\n    }\n\n    render() {\n        let data: IImage = this.props.currentView\n        return (<div className=\"imageLightboxFooter\">\n            <div className=\"productButton\" onClick={() => this.toggleShopping()}><img src=\"/Content/Images/productIcon-bold.png\" /></div>\n            <div className=\"favouriteButton\" onClick={this.addToFavourite}>{!this.isFavourite() ? <FontAwesomeIcon icon={[\"far\", \"head-side\"]} /> : <FontAwesomeIcon icon={[\"far\", \"head-side\"]} />}</div>\n        </div>)\n    }\n}\n\n","import * as React from \"react\";\nimport Carousel, { Modal, ModalGateway } from 'react-images';\nimport { ImageLightboxHeader } from \"./Lightbox/ImageLightboxHeader\";\nimport { IsMobile as isMobile } from './Helpers/IsMobileHelper';\nimport \"./ImageLightbox.scss\";\nimport { ImageLightBoxContainer } from \"./Lightbox/ImageLightBoxContainer\";\nimport { ImageLightBoxView } from \"./Lightbox/ImageLightBoxView\";\nimport { IFormat } from \"./Models/Format\";\nimport { ImageLightboxFooter } from \"./Lightbox/ImageLightBoxFooter\";\n\nexport interface IImage {\n    src: string,\n    folder: string,\n    filename: string,\n    folderId: number,\n    photoId: number\n}\n\nexport interface IImageLightboxProps {\n    isOpen: boolean,\n    isAdmin: boolean,\n    currentIndex: number,\n    images: IImage[],\n    onClose: () => void,\n    formats: IFormat[]\n}\n\nexport interface IImageLightboxState {\n    showShopping: boolean,\n    isMobile: boolean\n}\n\nexport class ImageLightbox extends React.Component<IImageLightboxProps, IImageLightboxState> {\n\n\n\n    constructor(props: IImageLightboxProps) {\n        super(props);\n        this.state = {\n            showShopping: true && !props.isAdmin && !isMobile(),\n            isMobile: isMobile(),\n        }\n    }\n\n    componentWillUpdate(nextProps: IImageLightboxProps) {\n        if (nextProps.isOpen != this.props.isOpen && nextProps.isOpen && isMobile()) {\n            this.setState({ showShopping: false })\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"resize\", () => {\n            this.setState({ isMobile: isMobile() })\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", () => { });\n    }\n\n    toggleModal = () => {\n        if (this.props.onClose) {\n            this.props.onClose();\n        }\n    }\n\n    toggleShopping = () => {\n        this.changeShopping(!this.state.showShopping);\n    }\n\n    changeShopping = (show: boolean) => {\n        this.setState({ showShopping: show });\n    }\n\n    render() {\n        let footer: any = isMobile() ? ((props) => <ImageLightboxFooter isAdmin={this.props.isAdmin} {...props} toggleShopping={this.toggleShopping} />) : null;\n        return (<div key={this.state.isMobile.toString()}>\n            <ModalGateway>\n                {this.props.isOpen ? (\n                    <Modal onClose={this.toggleModal} allowFullscreen={false} closeOnBackdropClick={false}>\n                        <Carousel currentIndex={this.props.currentIndex} views={this.props.images as any} components={{ Footer: footer, Header: (props) => <ImageLightboxHeader isAdmin={this.props.isAdmin} {...props} toggleShopping={this.toggleShopping} />, Container: (props) => <ImageLightBoxContainer hasFooter={isMobile()} {...props} />, View: (props) => <ImageLightBoxView changeShopping={this.changeShopping} {...props} showShopping={this.state.showShopping} formats={this.props.formats} isAdmin={this.props.isAdmin} /> }} />\n                    </Modal>\n                ) : null}\n            </ModalGateway>\n        </div>)\n    }\n}","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nconst Main = () => {\n  return <Redirect to=\"/dashboard\" />;\n};\n\nexport default Main;\n","import React, { Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport AppLayout from '../../layout/AppLayout';\n\nconst Dashboards = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './default')\n);\n\nconst Dashboard = ({ match }) => (\n  <AppLayout>\n    <div className=\"dashboard-wrapper\">\n      <Suspense fallback={<div className=\"loading\" />}>\n        <Switch>\n          <Route path={`${match.url}`} render={(props) => <Dashboards {...props} />} />\n          <Redirect to=\"/error\" />\n        </Switch>\n      </Suspense>\n    </div>\n  </AppLayout>\n);\nexport default Dashboard;\n","import React, { Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport AppLayout from '../../layout/AppLayout';\n\nconst DefaultView = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './default')\n);\n\nconst Products = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './products')\n);\n\nconst Settings = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './settings')\n);\n\nconst Overview = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './overview')\n);\n\nconst Updates = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './updates')\n);\n\nconst Categories = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './categories')\n);\n\nconst Attributes = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './attributes')\n);\n\nconst ProductWizard = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './wizard/WizardPage')\n);\n\n// const SliderSettings = React.lazy(() => {\n//   import('./updates/sliderSettings')\n// });\n\n\nconst PhotoOrder = ({ match }) => (\n  <AppLayout>\n    <div className=\"photoorder-wrapper\">\n      <Suspense fallback={<div className=\"loading\" />}>\n        <Switch>\n          <Route path={`${match.url}/overview`} render={(props) => <Overview {...props} />} />\n          <Route exact path={`${match.url}/products/wizard`} render={(props) => <ProductWizard {...props} />} />\n          <Route exact path={`${match.url}/products`} render={(props) => <Products {...props} />} />\n          <Route exact path={`${match.url}/categories`} render={(props) => <Categories dataKey=\"ProductCategories\" {...props} />} />\n          <Route exact path={`${match.url}/attributes`} render={(props) => <Attributes dataKey=\"ProductAttributes\" {...props} />} />\n          <Route exact path={`${match.url}/products2/categories`} render={(props) => <Categories dataKey=\"ProductCategories2\" {...props} />} />\n          <Route exact path={`${match.url}/products2/attributes`} render={(props) => <Attributes dataKey=\"ProductAttributes2\" {...props} />} />\n          <Route path={`${match.url}/settings`} render={(props) => <Settings {...props} />} />\n          <Route path={`${match.url}/updates`} render={(props) => <Updates {...props} />} />\n          <Route path={`${match.url}`} render={(props) => <DefaultView {...props} />} />\n          <Redirect to=\"/error\" />\n        </Switch>\n      </Suspense>\n    </div>\n  </AppLayout>\n);\nexport default PhotoOrder;\n","import React, { Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport AppLayout from '../../layout/AppLayout';\n\nconst DefaultView = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './default')\n);\n\nconst Dashboard = ({ match }) => (\n  <AppLayout>\n    <div className=\"dashboard-wrapper\">\n      <Suspense fallback={<div className=\"loading\" />}>\n        <Switch>\n          <Route path={`${match.url}`} render={(props) => <DefaultView {...props} />} />\n          <Redirect to=\"/error\" />\n        </Switch>\n      </Suspense>\n    </div>\n  </AppLayout>\n);\nexport default Dashboard;\n","import React from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { Row, Card, NavLink, CardTitle, FormGroup, Label, Button, Input } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { Formik, Field, Form } from \"formik\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\n\nexport class EventLoginView extends React.Component<any, any> {\n\n    eventCient: EventClient;\n\n    state = {\n        loading: false,\n        redirectEvent: -1\n    }\n\n\n    constructor(props: any) {\n        super(props);\n\n        this.eventCient = new EventClient();\n    }\n\n    initialValues = {\n        eventId: \"\",\n        eventPassword: \"\"\n    }\n\n    onSubmit = (values, formik) => {\n        this.setState({ loading: true })\n        this.eventCient.CheckEventPassword({ EventId: values.eventId, EvnPassword: values.eventPassword }).then(response => {\n            if (response.data.Error) {\n                NotificationManager.error(response.data.Error, \"Error\", 3000, null, null, '');\n            } else {\n                this.setState({ redirectEvent: values.eventId })\n            }\n            formik.setSubmitting(false);\n        }).finally(() => {\n            formik.setSubmitting(false);\n            this.setState({ loading: false })\n        });\n\n\n    }\n\n\n    render() {\n\n        if (this.state.redirectEvent > -1) return (<Redirect to={`/portal/event/${this.state.redirectEvent}`} />);\n\n        return (<><Row style={{ height: \"100vh\" }}>\n            <Colxx xxs=\"12\" md=\"4\" className=\"mx-auto my-auto\">\n                <Card className=\"auth-card\">\n\n                    <div className=\"form-side w-100\">\n                        <CardTitle className=\"mb-4\">\n                            Event Access\n                        </CardTitle>\n                        <Formik initialValues={this.initialValues} onSubmit={this.onSubmit}>\n                            {({ errors, touched }) => (\n                                <Form className=\"av-tooltip tooltip-label-bottom\">\n                                    <FormGroup row>\n                                        <Colxx sm={6}>\n                                            <FormGroup>\n                                                <Label for=\"eventId\">\n                                                    Event ID\n                                                </Label>\n                                                <Field className=\"form-control\" name=\"eventId\" type=\"text\" id=\"eventId\" placeholder={\"Event ID\"} />\n                                            </FormGroup>\n                                        </Colxx>\n\n                                        <Colxx sm={6}>\n                                            <FormGroup>\n                                                <Label for=\"eventPassword\">\n                                                    Event Password\n                                                </Label>\n                                                <Field className=\"form-control\" name=\"eventPassword\" type=\"password\" id=\"eventPassword\" placeholder={\"Event Password\"} />\n                                            </FormGroup>\n                                        </Colxx>\n                                    </FormGroup>\n                                    <div className=\"d-flex justify-content-between align-items-center\">\n                                        <Button color=\"primary\" type=\"submit\" className={`btn-shadow btn-multiple-state ${this.state.loading ? 'show-spinner' : ''}`} size=\"lg\">\n                                            <span className=\"spinner d-inline-block\">\n                                                <span className=\"bounce1\" />\n                                                <span className=\"bounce2\" />\n                                                <span className=\"bounce3\" />\n                                            </span>\n                                            <span className=\"label\">\n                                                SEARCH\n                                            </span>\n                                        </Button>\n                                    </div>\n                                </Form>\n                            )}\n                        </Formik>\n                    </div>\n                </Card>\n            </Colxx>\n        </Row>\n        </>);\n    }\n}\n\nexport default EventLoginView;","import React from \"react\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport EventFolderPhotos from \"./EventFolderPhotos/EventFolderPhotos\";\nimport { Row } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport { ParallaxItem } from \"../../../components/parallax/parallaxItem\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons'\nimport { Redirect } from \"react-router-dom\";\nimport { ClientLayoutHeader } from \"../../../layout/ClientLayoutHeader\";\n\nexport class FolderView extends React.Component<any, any> {\n\n\n\n    eventClient: EventClient;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            redirect: \"\",\n            response: null,\n        }\n\n        this.eventClient = new EventClient();\n    }\n\n    componentDidMount() {\n        this.populateData();\n    }\n\n    populateData() {\n        this.setState({ response: null });\n\n        this.eventClient.EventFolderPhotos(this.props.match.params.folderId, this.currentPage).then(response => {\n            if (response.data.Redirect) {\n                this.setState({ redirect: response.data.Redirect });\n            } else\n                if (response.data.Error) {\n                    NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n                } else {\n                    if (response.data.Data != null) {\n                        this.setState({\n                            currentPage: response.data.Data.Page,\n                            totalPage: response.data.Data.PageCount,\n                            eventData: response.data.Data,\n                            response: response.data.Data\n                        });\n                    }\n                }\n        });\n    }\n\n    public componentDidUpdate(prevProps) {\n        if (this.props.location.pathname != prevProps.location.pathname) {\n            this.setState({ redirect: \"\" });\n            this.populateData();\n        }\n\n        if (prevProps.match.params.page != this.props.match.params.page) {\n            this.setState({ redirect: \"\" });\n            this.populateData();\n        }\n    }\n\n\n\n    get parallaxData() {\n        if (this.state.response == null) {\n            return null;\n        }\n\n        return {\n            CoverPhoto: (this.state.response as any).eventsList.CoverPhotoUrl,\n            Top: (this.state.response as any).eventFolderPhotos.CoverOffset ? (this.state.response as any).eventFolderPhotos.CoverOffset : 0,\n            ObjectId: Number((this.state.response as any).eventFolderPhotos.Id),\n            Mode: \"folder\",\n            CanEdit: false\n        }\n    }\n\n    get folderTitle() {\n        if (this.state.response && (this.state.response as any).eventFolderList) {\n            return (this.state.response as any).CurrentFolderName;\n        }\n        return \"\";\n    }\n\n    get currentPage() {\n        console.log(this.props.match.params, this.props.match.params.page != null ? Number(this.props.match.params.page) : 1)\n        return this.props.match.params.page != null ? Number(this.props.match.params.page) : 1\n    }\n\n    changeFolder = (next: boolean) => {\n        this.eventClient.ChangeFolder(this.props.match.params.folderId, next).then((response) => {\n            this.setState({ redirect: response.data.Redirect });\n        });\n    }\n\n    onPageChange = (page: number) => {\n        if (page < 0) {\n            return;\n        }\n        if (page == 1) {\n            this.setState({ redirect: `/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}` });\n        } else {\n            this.setState({ redirect: `/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}/${page}` });\n        }\n\n    }\n\n    render() {\n\n        if (this.state.redirect) {\n            return (<Redirect to={this.state.redirect} />);\n        }\n\n        return (<>\n            <ClientLayoutHeader backUrl={`/portal/event/${this.props.match.params.eventId}`} checkoutUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}/checkout`} favouriteUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}/favourites`} />\n            <Row style={{ marginBottom: \"18px\" }}>\n                <Colxx className={\"p-0\"} xxs=\"12\">\n                    {this.parallaxData != null && <ParallaxItem canEdit={this.parallaxData.CanEdit} coverPhoto={this.parallaxData.CoverPhoto} top={this.parallaxData.Top} mode={this.parallaxData.Mode} objectId={this.parallaxData.ObjectId} />}\n                </Colxx>\n            </Row>\n            <Row>\n                <Colxx xxs=\"12\" className=\"text-center\">\n                    {this.folderTitle && <h1><span className=\"mr-4\" style={{ cursor: \"pointer\" }} onClick={() => this.changeFolder(false)}><FontAwesomeIcon icon={faAngleLeft} /></span>{this.folderTitle}<span onClick={() => this.changeFolder(true)} className=\"ml-4\" style={{ cursor: \"pointer\" }}><FontAwesomeIcon icon={faAngleRight} /></span></h1>}\n                </Colxx>\n            </Row>\n\n            {\n                this.state.response != null && <EventFolderPhotos\n                    canLoad={true}\n                    page={this.currentPage}\n                    eventId={(this.state.response as any).eventFolderPhotos.EventId}\n                    photoCount={(this.state.response as any).photosCount}\n                    folderId={(this.state.response as any).eventFolderPhotos.Id}\n                    formats={(this.state.response as any).eventsList.FormatInfo}\n                    isAdmin={false}\n                    folder={(this.state.response as any).CurrentFolderName}\n                    data={(this.state.response as any).photos}\n                    favouritesOnly={false}\n                    formatFilter={null}\n                    foldersIds={null}\n                    onPageChange={(page) => this.onPageChange(page)}\n                />\n            }\n        </>\n        );\n    }\n}\n\nexport default FolderView;","import React from \"react\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport { Row } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport { ParallaxItem } from \"../../../components/parallax/parallaxItem\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons'\nimport { Redirect } from \"react-router-dom\";\nimport { EventFolderPhotos } from \"../folder/EventFolderPhotos/EventFolderPhotos\";\nimport { ClientLayoutHeader } from \"../../../layout/ClientLayoutHeader\";\n\nexport class Favourites extends React.Component<any, any> {\n\n    state = {\n        redirect: \"\",\n        response: null,\n        page: 0\n    }\n\n    eventClient: EventClient;\n\n    constructor(props: any) {\n        super(props);\n        console.log(props);\n        this.eventClient = new EventClient();\n    }\n\n    componentDidMount() {\n        this.populateData();\n    }\n\n    populateData() {\n        this.setState({ response: null });\n\n        this.eventClient.EventFolderPhotosFavourites2(this.props.match.params.folderId).then(response => {\n            if (response.data.Redirect) {\n                this.setState({ redirect: response.data.Redirect });\n            } else\n                if (response.data.Error) {\n                    NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n                } else {\n                    if (response.data.Data != null) {\n                        this.setState({\n                            currentPage: response.data.Data.Page,\n                            totalPage: response.data.Data.PageCount,\n                            eventData: response.data.Data,\n                            response: response.data.Data\n                        });\n                    }\n                }\n        });\n    }\n\n    public componentDidUpdate(prevProps) {\n        if (this.props.location.pathname != prevProps.location.pathname) {\n            this.setState({ redirect: \"\" });\n            this.populateData();\n        }\n    }\n\n\n\n    get parallaxData() {\n        if (this.state.response == null) {\n            return null;\n        }\n\n        return {\n            CoverPhoto: (this.state.response as any).EventCoverPhotoUrl,\n            Top: (this.state.response as any).CoverOffset ? (this.state.response as any).CoverOffset : 0,\n            ObjectId: Number((this.state.response as any).EventId),\n            Mode: \"folder\",\n            CanEdit: false\n        }\n    }\n\n    get folderTitle() {\n        if (this.state.response && (this.state.response as any).eventFolderList) {\n            return (this.state.response as any).CurrentFolderName;\n        }\n        return \"\";\n    }\n\n    changeFolder = (next: boolean) => {\n\n        this.eventClient.ChangeFolder(this.props.match.params.folderId, next).then((response) => {\n            this.setState({ redirect: response.data.Redirect });\n        });\n    }\n\n    render() {\n\n        if (this.state.redirect) {\n            return (<Redirect to={this.state.redirect} />);\n        }\n\n        return (<>\n            <ClientLayoutHeader backUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}`} checkoutUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}/checkout`} favouriteUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}`} favouriteText=\"All photos\" imageIcon={true} />\n\n            <Row style={{ marginBottom: \"18px\" }}>\n                <Colxx className={\"p-0\"} xxs=\"12\">\n                    {this.parallaxData != null && <ParallaxItem canEdit={this.parallaxData.CanEdit} coverPhoto={this.parallaxData.CoverPhoto} top={this.parallaxData.Top} mode={this.parallaxData.Mode} objectId={this.parallaxData.ObjectId} />}\n                </Colxx>\n            </Row>\n            <Row>\n                <Colxx xxs=\"12\" className=\"text-center\">\n                    {this.folderTitle && <h1><span className=\"mr-4\" style={{ cursor: \"pointer\" }} onClick={() => this.changeFolder(false)}><FontAwesomeIcon icon={faAngleLeft} /></span>{this.folderTitle}<span onClick={() => this.changeFolder(true)} className=\"ml-4\" style={{ cursor: \"pointer\" }}><FontAwesomeIcon icon={faAngleRight} /></span></h1>}\n                </Colxx>\n            </Row>\n\n            {\n                this.state.response != null && <EventFolderPhotos\n                    canLoad={false}\n                    page={this.state.page}\n                    eventId={(this.state.response as any).EventId}\n                    photoCount={(this.state.response as any).photosCount}\n                    folderId={(this.state.response as any).Id}\n                    formats={(this.state.response as any).FormatInfo}\n                    isAdmin={false}\n                    folder={(this.state.response as any).CurrentFolderName}\n                    data={(this.state.response as any).PhotoList}\n                    favouritesOnly={true}\n                    formatFilter={null}\n                    foldersIds={(this.state.response as any).PhotoList.map(x => x.FolderId).filter((value, index, self) => { return self.indexOf(value) === index; })}\n                />\n            }\n        </>\n        );\n    }\n}\n\nexport default Favourites;","import React from \"react\";\nimport { Row, Card, CardTitle, Form, FormGroup, Label, Button } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport { Formik, Field } from \"formik\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./DirectEventView.scss\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { BASE_URL } from \"../../../api/settings\";\n\nexport class DirectEventView extends React.Component<any, any> {\n\n    eventClient: EventClient;\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            currentState: \"check\",\n            eventId: 0,\n            redirect: \"\"\n        }\n\n        this.eventClient = new EventClient();\n    }\n\n    componentDidMount() {\n        console.log(this.props);\n        this.eventClient.EventNoPassword(this.props.match.params.eventGuid).then((response) => {\n            if (response.data.Data != null && response.data.Error == null) {\n                this.setState({ currentState: \"success\", eventId: response.data.Data });\n                setTimeout(() => {\n                    window.location.replace(`${BASE_URL}/EventShow/${this.props.match.params.eventGuid}`);\n                    //this.setState({ redirect: `${BASE_URL}/EventShow/${response.data.Data}` })\n                }, 3000);\n            } else {\n                this.setState({ currentState: \"error\" });\n            }\n        });\n    }\n\n    render() {\n        if (this.state.redirect) {\n            return (<Redirect to={this.state.redirect} />)\n        }\n        return (<><Row style={{ height: \"100vh\" }} className=\"directEventView\">\n            <Colxx xxs=\"12\" md=\"4\" className=\"mx-auto my-auto\">\n                <Card className=\"auth-card\">\n\n                    <div className=\"form-side w-100 d-flex justify-content-center align-items-center\">\n                        <CardTitle className=\"mb-4 text-center\">\n                            {this.state.currentState == \"check\" && <div className=\"loading\" />}\n                            {this.state.currentState == \"error\" && <div className=\"glyph-icon simple-icon-close text-danger\" style={{ fontSize: 29 }}></div>}\n                            {this.state.currentState == \"success\" && <div className=\"glyph-icon simple-icon-check text-success\" style={{ fontSize: 29 }}></div>}\n                            {this.state.currentState == \"check\" && <div className=\"mt-4\">Checking event access...</div>}\n                            {this.state.currentState == \"error\" && <div className=\"mt-4\">Access not granted</div>}\n                            {this.state.currentState == \"success\" && <div className=\"mt-4\">Access granted. Redirecting to event...</div>}\n                        </CardTitle>\n                    </div>\n                </Card>\n            </Colxx>\n        </Row>\n        </>);\n    }\n}\n\nexport default DirectEventView;","import React from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { Row, Card, NavLink, CardTitle, FormGroup, Label, Button, Input } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { Formik, Field, Form, FormikHelpers } from \"formik\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport { HomeClient } from \"../../../api/homeClient\";\n\nexport class NewAccountView extends React.Component<any, any> {\n\n    homeClient: HomeClient;\n\n\n    constructor(props: any) {\n        super(props);\n\n        this.homeClient = new HomeClient();\n    }\n\n\n    onSubmit = (values, formik: FormikHelpers<any>) => {\n        console.log(values);\n\n        this.homeClient.Register(values).then(response => {\n            if (response.data.Data == true) {\n                NotificationManager.success(\"Account created successfully.\", \"Account created.\", 5000, null, null, '');\n                formik.resetForm();\n            } else if (response.data.Error) {\n                NotificationManager.error(response.data.Error, \"Account not created\", 5000, null, null, '');\n            }\n            formik.setSubmitting(false);\n        }).catch(() => {\n            NotificationManager.error(\"Something went wrong.\", \"Account not created\", 5000, null, null, '');\n            formik.setSubmitting(false);\n        });\n\n\n    }\n\n\n    render() {\n        return (<><Row style={{ height: \"100vh\" }}>\n            <Colxx xxs=\"12\" md=\"4\" className=\"mx-auto my-auto\">\n                <Card className=\"auth-card\">\n\n                    <div className=\"form-side w-100\">\n                        <CardTitle className=\"mb-4\">\n                            New account creator\n                        </CardTitle>\n                        <Formik initialValues={{\n                            Login: \"\",\n                            Nickname: \"\",\n                            CompanyName: \"\",\n                            Phone: \"\",\n                            Key: \"\"\n                        }} onSubmit={this.onSubmit}>\n                            {({\n                                handleSubmit,\n                                setFieldValue,\n                                setFieldTouched,\n                                values,\n                                errors,\n                                touched,\n                                isSubmitting,\n                            }) => (\n                                    <Form>\n                                        <FormGroup>\n                                            <Label for=\"Login\">\n                                                e-mail ή όνομα χρήστη\n                                            </Label>\n                                            <Field className=\"form-control\" name=\"Login\" type=\"text\" id=\"Login\" />\n                                        </FormGroup>\n                                        <FormGroup>\n                                            <Label for=\"Nickname\">\n                                                Name\n                                            </Label>\n                                            <Field className=\"form-control\" name=\"Nickname\" type=\"text\" id=\"Nickname\" />\n                                        </FormGroup>\n                                        <FormGroup>\n                                            <Label for=\"CompanyName\">\n                                                Company Name\n                                            </Label>\n                                            <Field className=\"form-control\" name=\"CompanyName\" type=\"text\" id=\"CompanyName\" />\n                                        </FormGroup>\n                                        <FormGroup>\n                                            <Label for=\"Phone\">\n                                                Phone Number\n                                            </Label>\n                                            <Field className=\"form-control\" name=\"Phone\" type=\"text\" id=\"Phone\" />\n                                        </FormGroup>\n                                        <FormGroup>\n                                            <Label for=\"Key\">\n                                                Key\n                                            </Label>\n                                            <Field className=\"form-control\" name=\"Key\" type=\"password\" id=\"Key\" />\n                                        </FormGroup>\n                                        <Button\n                                            type=\"submit\"\n                                            color=\"primary\"\n                                        >\n\n                                            Register\n                                        </Button>\n                                        {isSubmitting && <div className={\"w-100 h-100\"} style={{ position: \"absolute\", top: 0, left: 0, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", backgroundColor: \"rgba(255,255,255,0.6)\" }}><div className=\"loading\" style={{ left: \"auto\", top: \"auto\" }} /></div>}\n                                    </Form>\n                                )}\n\n                        </Formik>\n                    </div>\n                </Card>\n            </Colxx>\n        </Row>\n        </>);\n    }\n}\n\nexport default NewAccountView;","import Resizer from \"react-image-file-resizer\";\nimport * as watermarkjs from \"watermarkjs\";\n//import * as blueImp from \"blueimp-load-image/js/load-image-orientation.js\";\n\n\nexport enum ImageType { Horizontal, Vertical }\n\nexport function base64toBlob(b64Data: string, contentType: string = '', sliceSize: number = 512): Blob {\n    let byteCharacters = atob(b64Data.replace(/^data:image\\/(png|jpeg|jpg);base64,/, ''));\n    let byteArrays: Uint8Array[] = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n\n        let byteArray: Uint8Array = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n    }\n\n    let blob = new Blob(byteArrays, { type: contentType });\n    return blob;\n}\n\nexport function blobToBase64(image: Blob, callback: (base64Image: string) => void) {\n    var reader = new FileReader();\n    reader.onloadend = function () {\n        callback((reader.result as string));\n    }\n    reader.readAsDataURL(image);\n}\n\nexport function addWatermark(file: Blob, watermark: Blob, callback: (file: Blob) => void) {\n    if (watermark == null) {\n        callback(file);\n    } else {\n        watermarkjs([file, watermark])\n            .blob(watermarkjs.image.atPos(() => { return 0 }, () => { return 0 }, 1))\n            .then(callback);\n    }\n}\n\nexport function resizeImage2(file: Blob, callback: (file: Blob, imageType: ImageType) => void, fileType: string = \"JPEG\", quality: number = 70) {\n    var fr = new FileReader;\n    fr.onload = () => {\n        var img = new Image;\n        let imgType: ImageType = ImageType.Horizontal\n        img.onload = () => {\n            let ratio = 1;\n            if (img.width >= img.height) {\n                ratio = 700 / img.height;\n                imgType = ImageType.Horizontal\n            }\n            else {\n                imgType = ImageType.Vertical;\n                ratio = 700 / img.width;\n            }\n            Resizer.imageFileResizer(file, img.width * ratio, img.height * ratio, fileType, quality, 0,\n                uri => {\n                    callback(base64toBlob(uri as any), imgType);\n                },\n                \"base64\"\n            );\n        };\n        (img.src as any) = fr.result;\n    };\n    fr.readAsDataURL(file);\n\n\n}\n\nexport function rotateImage(file: File, callback: (file: Blob) => void) {\n    getOrientatio(file, (orientation) => {\n        resetOrientation(file, orientation, (base64) => {\n            callback(base64toBlob(base64));\n        });\n    });\n}\n\nexport function resetOrientation(file: File, srcOrientation, callback) {\n    var fr = new FileReader;\n    fr.onload = () => {\n        var img = new Image();\n\n        img.onload = function () {\n            var width = img.width,\n                height = img.height,\n                canvas = document.createElement('canvas'),\n                ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\n            // set proper canvas dimensions before transform & export\n            if (4 < srcOrientation && srcOrientation < 9) {\n                canvas.width = height;\n                canvas.height = width;\n            } else {\n                canvas.width = width;\n                canvas.height = height;\n            }\n\n            // transform context before drawing image\n            switch (srcOrientation) {\n                case 2: ctx.transform(-1, 0, 0, 1, width, 0); break;\n                case 3: ctx.transform(-1, 0, 0, -1, width, height); break;\n                case 4: ctx.transform(1, 0, 0, -1, 0, height); break;\n                case 5: ctx.transform(0, 1, 1, 0, 0, 0); break;\n                case 6: ctx.transform(0, 1, -1, 0, height, 0); break;\n                case 7: ctx.transform(0, -1, -1, 0, height, width); break;\n                case 8: ctx.transform(0, -1, 1, 0, 0, width); break;\n                default: break;\n            }\n\n            // draw image\n            ctx.drawImage(img, 0, 0);\n\n            // export base64\n            callback(canvas.toDataURL());\n        };\n\n        (img.src as any) = fr.result;\n    };\n    fr.readAsDataURL(file);\n};\n\n\nexport function resizeImage(file: Blob, callback: (file: Blob, imageType: ImageType) => void, fileType: string = \"JPEG\", quality: number = 70) {\n    var fr = new FileReader;\n    fr.onload = () => {\n        var img = new Image;\n        let imgType: ImageType = ImageType.Horizontal\n        img.onload = () => {\n            let ratio = 1;\n            if (img.width >= img.height) {\n                ratio = 700 / img.height;\n                imgType = ImageType.Horizontal\n            }\n            else {\n                imgType = ImageType.Vertical;\n                ratio = 700 / img.width;\n            }\n            Resizer.imageFileResizer(file, img.width * ratio, img.height * ratio, fileType, quality, 0,\n                uri => {\n                    callback(base64toBlob(uri as any), imgType);\n                },\n                \"base64\"\n            );\n        };\n        (img.src as any) = fr.result;\n    };\n    fr.readAsDataURL(file);\n\n\n}\n\nexport default {\n    base64toBlob,\n    blobToBase64,\n    resizeImage,\n    resizeImage2,\n    addWatermark,\n    rotateImage\n}\n\n\nfunction getOrientatio(file: File, callback: Function) {\n    var reader = new FileReader();\n\n    reader.onload = (event: ProgressEvent) => {\n\n        if (!event.target) {\n            return;\n        }\n\n        const file = event.target as FileReader;\n        const view = new DataView(file.result as ArrayBuffer);\n\n        if (view.getUint16(0, false) != 0xFFD8) {\n            return callback(-2);\n        }\n\n        const length = view.byteLength\n        let offset = 2;\n\n        while (offset < length) {\n            if (view.getUint16(offset + 2, false) <= 8) return callback(-1);\n            let marker = view.getUint16(offset, false);\n            offset += 2;\n\n            if (marker == 0xFFE1) {\n                if (view.getUint32(offset += 2, false) != 0x45786966) {\n                    return callback(-1);\n                }\n\n                let little = view.getUint16(offset += 6, false) == 0x4949;\n                offset += view.getUint32(offset + 4, little);\n                let tags = view.getUint16(offset, little);\n                offset += 2;\n                for (let i = 0; i < tags; i++) {\n                    if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                        return callback(view.getUint16(offset + (i * 12) + 8, little));\n                    }\n                }\n            } else if ((marker & 0xFF00) != 0xFF00) {\n                break;\n            }\n            else {\n                offset += view.getUint16(offset, false);\n            }\n        }\n        return callback(-1);\n    };\n\n    reader.readAsArrayBuffer(file);\n}","import * as React from \"react\";\nimport { Button } from \"reactstrap\";\n\ninterface Step1Props {\n    optionOneClick: Function,\n    optionTwoClick: Function\n}\n\nexport class Step1 extends React.Component<Step1Props, any> {\n\n    constructor(props: Step1Props) {\n        super(props);\n    }\n\n    optionOneClick = () => {\n        if (this.props.optionOneClick) {\n            this.props.optionOneClick();\n        }\n    }\n\n    optionTwoClick = () => {\n        if (this.props.optionTwoClick) {\n            this.props.optionTwoClick();\n        }\n    }\n\n    render() {\n        return (<div className=\"row\" style={{ width: \"100%\" }}>\n            <div className=\"col-xs-12\" style={{ textAlign: \"center\" }}>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">   <div style={{ height: \"180px\" }}>\n                        <div style={{ textAlign: \"center\" }}>Έχω αρχεία χαμηλής ανάλυσης, max 700 x 1050 pixels, έτοιμα για αποστολή</div>\n                        <img style={{ display: \"block\", margin: \"auto\", marginTop: \"20px\" }} src=\"/assets/img/upload.png\" />\n                    </div></div>\n                    <div className=\"col-xs-12\">\n                        <Button style={{ marginTop: \"10px\" }} bsStyle=\"primary\" onClick={this.optionTwoClick}>Contiune</Button>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-xs-12\" style={{ textAlign: \"center\", marginTop: \"5rem\" }}>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <div style={{ height: \"155px\" }}>\n                            <div style={{ textAlign: \"center\" }}>Έχω αρχεία υψηλής ανάλυσης και θέλω να χρησιμοποιήσω το λογισμικό oiSTIGMES.exe για να ανεβάσω φωτογραφίες.</div>\n                            <img style={{ display: \"block\", margin: \"auto\" }} src=\"/assets/img/small_logo.png\" />\n                        </div>\n                    </div>\n                    <div className=\"col-xs-12\">\n                        <Button style={{ marginTop: \"10px\" }} bsStyle=\"primary\" onClick={this.optionOneClick}>Continue</Button>\n                    </div>\n                </div>\n            </div>\n        </div>);\n    }\n}","import * as React from \"react\";\nimport ImageHelper from \"./ImageHelper\";\n\ninterface Step2Props {\n    watermarkHorizontalChange: (image: Blob) => void,\n    watermarkVerticalChange: (image: Blob) => void\n}\n\nexport class Step2 extends React.Component<Step2Props, any> {\n\n    state = {\n        preview: {\n            horizontal: \"/assets/img/watermark-horizontal-placeholder.png\",\n            vertical: \"/assets/img/watermark-vertical-placeholder.png\"\n        }\n    }\n\n    constructor(props: Step2Props) {\n        super(props);\n    }\n\n    onChangeWatermarkHorizontal = (files: FileList) => {\n        if (files.length > 0) {\n            ImageHelper.resizeImage(files.item(0) as File, (file) => {\n                this.props.watermarkHorizontalChange(file);\n                ImageHelper.blobToBase64(file, (base64Img) => {\n                    let state = Object.assign({}, this.state);\n                    state.preview.horizontal = base64Img;\n                    this.setState(state);\n                });\n            }, \"png\", 70);\n        }\n    }\n    onChangeWatermarkVertical = (files: FileList) => {\n        if (files.length > 0) {\n            ImageHelper.resizeImage(files.item(0) as File, (file) => {\n                this.props.watermarkVerticalChange(file);\n                ImageHelper.blobToBase64(file, (base64Img) => {\n                    let state = Object.assign({}, this.state);\n                    state.preview.vertical = base64Img;\n                    this.setState(state);\n                });\n            }, \"png\", 70);\n        }\n    }\n\n    render() {\n        return (<div className=\"row\" style={{ width: \"100%\" }}>\n            <div className=\"col-xs-12\">\n                <div className=\"text-center d-flex justifu-content-center align-items-center\" style={{ height: \"115px\", marginBottom: \"10px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }} >\n                    <img src={this.state.preview.horizontal} style={{ maxHeight: \"190px\", maxWidth: \"100%\" }} />\n                </div>\n                <div className=\"form-group text-center\" style={{ height: \"60px\" }}>\n                    <label htmlFor=\"WatermarkHorizontal\">Watermark horizontal</label>\n                    <input accept=\"image/*\" type=\"file\" className=\"form-control\" id={\"WatermarkHorizontal\"} onChange={(e) => this.onChangeWatermarkHorizontal(e.target.files as FileList)} />\n                </div>\n            </div>\n            <div className=\"col-xs-12\" style={{ marginTop: \"3rem\" }}>\n                <div className=\"text-center\" style={{ height: \"170px\", marginBottom: \"10px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }} >\n                    <img src={this.state.preview.vertical} style={{ maxHeight: \"190px\", maxWidth: \"100%\" }} />\n                </div>\n                <div className=\"form-group text-center\" style={{ height: \"60px\" }}>\n                    <label htmlFor=\"WatermarkVertical\">Watermark vertical</label>\n                    <input accept=\"image/*\" type=\"file\" className=\"form-control\" id={\"WatermarkVertical\"} onChange={(e) => this.onChangeWatermarkVertical(e.target.files as FileList)} />\n                </div>\n            </div>\n        </div>);\n    }\n}","\nimport * as React from \"react\";\nimport { Step1 } from \"./GalleryUploaderStep1\";\nimport { Step2 } from \"./GalleryUploaderStep2\";\nimport { Step3 } from \"./GalleryUploaderStep3\";\nimport { Step4 } from \"./GalleryUploaderStep4\";\nimport axios from \"axios\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from \"reactstrap\";\nimport { BASE_URL, CONFIG } from \"../../api/settings\";\n\nenum WatermarkType { Horizontal, Vertical }\n\nexport interface GalleyUploaderState {\n    show: boolean,\n    step: number,\n    data: {\n        watermarkHorizontal: Blob | null,\n        watermarkVertical: Blob | null,\n        files: FileList | null\n    }\n}\n\nexport interface GalleryUploadProps {\n    folderId: number,\n    toggleModal: () => void,\n    modalOpen: boolean,\n    onUploadCompleted: () => void\n\n}\n\nexport default class GalleryUplodader extends React.Component<GalleryUploadProps, GalleyUploaderState> {\n\n    hiddenFileInputRef: any = React.createRef();\n\n    constructor(props: GalleryUploadProps) {\n        super(props);\n        this.state = {\n            show: false,\n            step: 1,\n            data: {\n                watermarkHorizontal: null,\n                watermarkVertical: null,\n                files: null\n            }\n        }\n    }\n\n    show = (show: boolean) => {\n        this.setState({ show });\n    }\n\n    close = () => {\n        this.setState({ show: false, step: 1 });\n    }\n\n    optionOneClick = () => {\n        (document as any).getElementById(\"hiddenfile\").click()\n    }\n\n    onChangeOptionOneInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n        let fileNames: string[] = [];\n        let fileSizes: number[] = [];\n\n        for (let i = 0; i < (e.target.files as FileList).length; i++) {\n            fileSizes[i] = (e.target.files as FileList)[i].size;\n            fileNames[i] = (e.target.files as FileList)[i].name;\n        }\n\n        axios.post(BASE_URL + '/Event/SaveFolderPhotos', { fileNames: fileNames, fileSizes: fileSizes, folderId: Number(this.props.folderId) }, {\n            withCredentials: true,\n            headers: {\n                \"Content-Type\": 'application/json',\n                \"X-Requested-With\": \"XMLHttpRequest\",\n            }\n        }).then(response => {\n            this.onUploadCompleted();\n        });\n    }\n\n    optionTwoClick = () => {\n        this.setState({ step: 2 });\n    }\n\n    switchHeader = () => {\n        switch (this.state.step) {\n            case 1: return \"First step\";\n            case 2: return \"Second step\";\n            case 3: return \"Third step\";\n            case 4: return \"Fourth step\";\n        }\n    }\n\n    watermarkChange = (image: Blob, type: WatermarkType) => {\n        if (type === WatermarkType.Horizontal) {\n            this.setState(prevState => ({\n                ...prevState,\n                data: {\n                    ...prevState.data,\n                    watermarkHorizontal: image\n                }\n            }));\n        } else if (type === WatermarkType.Vertical) {\n            this.setState(prevState => ({\n                ...prevState,\n                data: {\n                    ...prevState.data,\n                    watermarkVertical: image\n                }\n            }));\n        }\n    }\n\n    showNextButton = () => {\n        return this.state.step == 2;\n    }\n\n    nextState = () => {\n        this.setState((prevState) => ({\n            ...prevState,\n            step: prevState.step + 1\n        }));\n    }\n\n    onSelectedFiles = (files: FileList) => {\n        this.setState(prevState => ({\n            ...prevState,\n            data: {\n                ...prevState.data,\n                files: files\n            },\n            step: prevState.step + 1\n        }));\n    }\n\n    onUploadCompleted = () => {\n        setTimeout(() => {\n            this.props.onUploadCompleted();\n            this.setState({ step: 1 })\n        }, 3000);\n    }\n\n    onCancel = () => {\n        this.props.toggleModal();\n        this.setState({ step: 1 });\n    }\n\n\n    render() {\n        return (\n            <div className=\"galleryUploader\">\n                <Modal\n                    isOpen={this.props.modalOpen}\n                    toggle={this.onCancel}\n                    wrapClassName=\"modal-right\"\n                    backdrop=\"static\"\n                >\n                    <ModalHeader>\n                        {this.switchHeader()}\n                    </ModalHeader>\n                    <ModalBody>\n                        <input hidden={true} id=\"hiddenfile\" accept=\"image/*\" multiple={true} type=\"file\" onInput={this.onChangeOptionOneInput} />\n                        {this.state.step == 1 && <Step1 optionOneClick={this.optionOneClick} optionTwoClick={this.optionTwoClick} />}\n                        {this.state.step == 2 && <Step2 watermarkHorizontalChange={(image) => this.watermarkChange(image, WatermarkType.Horizontal)} watermarkVerticalChange={(image) => this.watermarkChange(image, WatermarkType.Vertical)} />}\n                        {this.state.step == 3 && <Step3 onUpload={this.onSelectedFiles} />}\n                        {this.state.step == 4 && <Step4 onUploadCompleted={this.onUploadCompleted} folderId={this.props.folderId} autostart={true} files={this.state.data.files as FileList} watermarkVertical={this.state.data.watermarkVertical as Blob} watermarkHorizontal={this.state.data.watermarkHorizontal as Blob} />}\n                    </ModalBody>\n                    <ModalFooter>\n                        <Button color=\"secondary\" outline onClick={this.onCancel}>\n                            Cancel\n                        </Button>\n                        {this.showNextButton() && <Button onClick={this.nextState} bsStyle=\"primary\">Next</Button>}\n                    </ModalFooter>\n                </Modal>\n            </div>\n        );\n    }\n\n}","import * as React from \"react\";\nimport cookie from 'react-cookies';\nimport { Button } from \"reactstrap\";\n\ninterface Step3Props {\n    onUpload: (files: FileList) => void\n}\n\ninterface Step3Stat {\n    files: FileList | null,\n    isPremium: string\n}\n\nexport class Step3 extends React.Component<Step3Props, Step3Stat> {\n\n    constructor(props: Step3Props) {\n        super(props);\n        this.state = {\n            files: null,\n            isPremium: \"true\"\n        };\n    }\n\n    onChangeFiles = (files: FileList) => {\n        this.setState((prevState) => ({\n            files: files\n        }));\n    }\n\n    onUpload = () => {\n        if (this.state.isPremium != \"true\") {\n            return;\n        }\n\n        this.props.onUpload(this.state.files as FileList);\n    }\n\n    render() {\n        return (<div className=\"row\" style={{ width: \"100%\" }}>\n            <div className=\"col-xs-12\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"Files\">Photos</label>\n                    <input accept=\"image/*\" type=\"file\" multiple={true} className=\"form-control\" id={\"Files\"} onChange={(e) => this.onChangeFiles(e.target.files as FileList)} />\n                </div>\n            </div>\n            <div className=\"col-xs-12\" style={{ textAlign: \"center\" }}>\n                <img src=\"/assets/img/uploadcloud.png\" style={{ margin: \"auto\" }} />\n            </div>\n            <div className=\"col-xs-12\" style={{ textAlign: \"center\" }}>\n                {this.state.files != null && this.state.files.length > 0 && <Button style={{ width: \"100%\" }} onClick={this.onUpload} bsStyle=\"primary\" disabled={this.state.isPremium != \"true\"}>\n                    {this.state.isPremium != \"true\" ? <span>Uploading only for Premium users</span> : <span>Start uploading</span>}\n                </Button>}\n            </div>\n        </div>);\n    }\n}\n\nexport default Step3;","import * as React from \"react\";\nimport axios from \"axios\";\nimport ImageHelper, { ImageType } from \"./ImageHelper\";\nimport { BASE_URL, CONFIG } from \"../../api/settings\";\nimport { ApiResponse } from \"../../models\";\nimport { IApiResponse } from \"../../api/IApiResponse\";\n\n\ninterface Step4Props {\n    files: FileList,\n    watermarkHorizontal: Blob,\n    watermarkVertical: Blob\n    autostart: boolean,\n    folderId: number,\n    onUploadCompleted: () => void\n}\n\ninterface Step4Stat {\n    uploadedFileIndex: number,\n    subscriptionEnded: boolean\n}\n\nexport class Step4 extends React.Component<Step4Props, Step4Stat> {\n\n    constructor(props: Step4Props) {\n        super(props);\n        this.state = {\n            uploadedFileIndex: -1,\n            subscriptionEnded: false\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.autostart && this.props.files.length > 0) {\n            this.upload();\n        }\n    }\n\n\n\n    uploadFile = () => {\n        if (this.state.uploadedFileIndex == this.props.files.length) {\n            this.completeUpload();\n            return;\n        }\n\n        ImageHelper.rotateImage(this.props.files[this.state.uploadedFileIndex], (rotatedImage) => {\n            ImageHelper.resizeImage(rotatedImage, (file, imageType) => {\n                let watermark = imageType == ImageType.Horizontal ? this.props.watermarkHorizontal : this.props.watermarkVertical;\n                ImageHelper.addWatermark(file, watermark, (f) => {\n                    ImageHelper.resizeImage2(f, (f2, imageType) => {\n                        let formData = new FormData();\n                        formData.append(\"file\", f2, this.props.files[this.state.uploadedFileIndex].name);\n                        formData.append(\"folderId\", this.props.folderId.toString());\n                        formData.append(\"originalFileSize\", this.props.files[this.state.uploadedFileIndex].size.toString());\n\n                        let s = { ...CONFIG }\n                        s.headers[\"Content-Type\"] = \"'multipart/form-data\";\n\n                        axios.post<IApiResponse<boolean>>(BASE_URL + \"/event/UploadFolderPhoto\", formData, s).then((response) => {\n                            if (response.data.Error == \"SubscriptionEventEnded\") {\n                                this.setState({\n                                    subscriptionEnded: true\n                                });\n                            } else {\n                                this.setState((prevState) => ({\n                                    uploadedFileIndex: prevState.uploadedFileIndex + 1,\n                                }), () => {\n                                    this.uploadFile();\n                                });\n                            }\n\n\n                        }).catch(() => {\n                            this.uploadFile();\n                        });\n                    });\n                });\n\n            });\n        })\n    }\n\n    completeUpload = () => {\n        this.props.onUploadCompleted();\n    }\n\n    upload = () => {\n        this.setState((prevState) => ({\n            uploadedFileIndex: 0\n        }), () => {\n            this.uploadFile();\n        });\n    }\n\n    get uploading() {\n        return this.state.uploadedFileIndex < this.props.files.length && this.state.uploadedFileIndex > -1;\n    }\n\n    get uploadCompleted() {\n        return this.state.uploadedFileIndex == this.props.files.length;\n    }\n\n    render() {\n        return (<div className=\"row\" style={{ width: \"100%\", textAlign: \"center\" }}>\n            {this.state.subscriptionEnded && <div>Subscription ended.</div>}\n            {this.uploading && !this.state.subscriptionEnded && <div> Uploading... {this.state.uploadedFileIndex + 1}/{this.props.files.length}</div>}\n            {this.uploadCompleted && <div> Upload completed!</div>}\n        </div>);\n    }\n}\n\nexport default Step4;","import React from \"react\";\nimport { Row, Button, NavLink } from \"reactstrap\";\nimport { NotificationManager } from \"../../../../components/common/react-notifications\";\nimport { Colxx, Separator } from \"../../../../components/common/CustomBootstrap\";\nimport { ContextMenu, MenuItem } from \"react-contextmenu\";\nimport { connect } from \"react-redux\";\nimport { EventClient } from \"../../../../api/eventsClient\";\nimport { number, string } from \"prop-types\";\nimport Lightbox from \"react-image-lightbox\";\nimport Gallery, { RenderImageProps } from \"react-photo-gallery\";\nimport { ImageSizer } from \"../../../../components/ImageSizer\";\nimport Breadcrumb from '../../../../containers/navs/Breadcrumb';\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./photosView.scss\";\nimport GalleryUplodader from \"../../../../components/galleryUploader/GalleryUploader\";\nimport { ParallaxItem } from \"../../../../components/parallax/parallaxItem\";\nimport Pagination from \"../../../../containers/pages/Pagination\";\nimport { BASE_URL } from \"../../../../api/settings\";\nimport {\n    Link,\n} from \"react-router-dom\";\n\nexport interface IPhoto {\n    Id: number,\n    Url: string,\n    UrlThumbnail: string,\n    Count: number,\n    IsAlbum: boolean,\n    Order: any,\n    Name: string,\n    FileName: string,\n    FileSize: number,\n    FolderId: number\n}\n\nexport interface IPhotosViewState {\n    data: any,\n    photoIndex: number,\n    isOpen: boolean,\n    sizes: { [key: number]: { width: number, height: number } },\n    showAddModal: boolean,\n    folderId: number,\n    redirect: string,\n    page: number,\n    loading: boolean,\n    previouseSubfolder: number,\n    nextSubfolder: number\n}\n\nexport class PhotosView extends React.Component<any, IPhotosViewState> {\n\n    eventClient: EventClient = new EventClient();\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: null,\n            photoIndex: 0,\n            isOpen: false,\n            showAddModal: false,\n            folderId: props.match.params.folderId,\n            sizes: {\n\n            },\n            page: props.match.params.page,\n            redirect: \"\",\n            loading: true,\n            previouseSubfolder: 0,\n            nextSubfolder: 0\n        }\n\n    }\n\n    componentDidMount() {\n        this.populateData();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.match.params.page != this.props.match.params.page) {\n            this.setState({ redirect: \"\" });\n            this.populateData();\n        }\n        if (this.props.match.params.folderId != prevProps.match.params.folderId) {\n            this.populateData();\n        }\n    }\n\n    onUploadCompleted = () => {\n        this.setState({ showAddModal: false });\n        this.populateData();\n    }\n\n    populateData = () => {\n        this.setState({ loading: true, previouseSubfolder: 0, nextSubfolder: 0 })\n\n        this.eventClient.EventFoldersList(this.props.match.params.eventId).then(response => {\n            if (response.data.Error) {\n                NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n            } else {\n                if (response.data.Data != null) {\n                    var folders = response.data.Data.eventFolderList.Folders;\n                    if (folders.length == 1) {\n                        this.setState({\n                            ...this.state,\n                            nextSubfolder: this.props.match.params.folderId,\n                            previouseSubfolder: this.props.match.params.folderId,\n                        })\n                    }\n\n                    var currentIndex = folders.findIndex(x => x.FolderId == this.props.match.params.folderId);\n                    var nextIntex = (currentIndex + 1) % folders.length;\n                    var previouseIndex = currentIndex == 0 ? (folders.length - 1) : (currentIndex - 1);\n                    this.setState({\n                        ...this.state,\n                        nextSubfolder: folders[nextIntex].FolderId,\n                        previouseSubfolder: folders[previouseIndex].FolderId\n                    });\n\n                }\n            }\n\n        });\n\n        this.eventClient.EventFolderPhotos(this.props.match.params.folderId, this.paginationOptions.page).then(response => {\n            if (response.data.Error) {\n                NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n            } else {\n                if (response.data.Data != null) {\n                    this.setState({\n                        data: response.data.Data\n                    });\n                }\n            }\n            this.setState({ loading: false })\n        });\n    }\n\n    getImageProportion(naturalWidth: number, naturalHeight: number) {\n        let data: number[] = [naturalWidth, naturalHeight];\n        let max = Math.max(...data);\n        let min = Math.min(...data);\n\n        return max / min;\n\n    }\n\n    calculateAspectRatioHeight = (srcWidth, srcHeight, maxHeight) => {\n        return srcWidth * (maxHeight / srcHeight);\n    }\n\n    onLoadImage = (imageId: number, naturalWidth: number, naturalHeight) => {\n        let width = 3;\n        let height = 2;\n\n        if (this.getImageProportion(naturalWidth, naturalHeight) == 1.5) {\n            if (naturalWidth < naturalHeight) {\n                height = 3;\n                width = 2;\n            }\n        } else {\n            height = 200;\n            width = this.calculateAspectRatioHeight(naturalWidth, naturalHeight, 200);\n\n        }\n        this.setState((prevState) => {\n            return {\n                ...prevState,\n                sizes: {\n                    ...prevState.sizes,\n                    [imageId]: {\n                        width: width,\n                        height: height\n                    }\n                }\n            }\n        });\n    }\n\n    imageRenderer = (props: RenderImageProps) => {\n        let imgStyle: any = { margin: props.margin, display: 'block' };\n        if (props.direction === 'column') {\n            imgStyle.position = 'absolute';\n            imgStyle.left = props.left;\n            imgStyle.top = props.top;\n        }\n\n        if (this.galleryPhotos.length > 3 || window.innerWidth < 665) {\n            imgStyle.width = props.photo.width;\n            imgStyle.height = props.photo.height;\n        } else {\n            imgStyle.width = this.calculateAspectRatioHeight(props.photo.width, props.photo.height, 200);\n            imgStyle.height = 200;\n        }\n\n        return (<NavLink\n            className={\"gallery-image-link\"}\n            key={\"photoImage-\" + props.index}\n            to=\"#\"\n            onClick={() => {\n                this.setState({ photoIndex: props.index, isOpen: true });\n            }}\n            location={{}}\n        >\n            <img\n                style={imgStyle}\n                className=\"img-fluid\"\n                src={props.photo.src}\n            />\n            <div className=\"removeButtonContainer\" onClickCapture={(e) => this.onDeletePhoto(e, (props.photo as any).photoId)}>\n                <i className=\"icon simple-icon-trash\" />\n            </div>\n        </NavLink>)\n    }\n\n    get folderInfo(): { Name: string } {\n        let data = {\n            Name: \"\"\n        }\n\n        if (this.state.data) {\n            data.Name = this.state.data.CurrentFolderName\n        }\n\n        return data;\n    }\n\n    get photos(): IPhoto[] {\n        if (this.state.data) {\n            return this.state.data.eventFolderPhotos.PhotoList;\n        }\n        return [];\n    }\n\n    get galleryPhotos(): { src: string, width: number, height: number }[] {\n        return this.photos.filter(x => this.state.sizes[x.Id] != null).map<{ src: string, width: number, height: number }>(x => { return { photoId: x.Id, src: x.UrlThumbnail, width: this.state.sizes[x.Id].width, height: this.state.sizes[x.Id].height } });\n    }\n\n    onDeletePhoto = (e, photoId: number) => {\n        e.stopPropagation();\n        NotificationManager.info(\"\", 'Deleting photo...', 3000, null, null, '');\n        this.eventClient.DeletePhoto(photoId).then((response) => {\n            if (response.data.Data) {\n                var photos = this.state.data.eventFolderPhotos.PhotoList as IPhoto[];\n                let photoIndex = photos.findIndex(x => x.Id == photoId);\n                if (photoId > -1) {\n                    let newPhotos = [...photos];\n                    newPhotos.splice(photoIndex, 1);\n                    this.setState({\n                        ...this.state,\n                        data: {\n                            ...this.state.data,\n                            eventFolderPhotos: {\n                                ...this.state.data.eventFolderPhotos,\n                                PhotoList: newPhotos\n                            }\n                        }\n                    });\n                    NotificationManager.success(\"\", 'Photo deleted', 3000, null, null, '');\n                }\n            }\n\n        });\n    }\n\n    get paginationOptions() {\n        if (this.state.data == null) {\n            return {\n                page: this.props.match.params.page ? this.props.match.params.page : 1,\n                totalItems: 0,\n                pages: 0\n            }\n        }\n        return {\n            page: this.props.match.params.page ? this.props.match.params.page : 1,\n            totalItems: this.state.data.photosCount,\n            pages: Math.ceil(this.state.data.photosCount / 50)\n        }\n    }\n\n    get parallaxData() {\n        if (this.state.data == null) {\n            return null;\n        }\n\n        return {\n            CoverPhoto: this.state.data.eventsList.CoverPhotoUrl,\n            Top: this.state.data.eventFolderPhotos.CoverOffset ? this.state.data.eventFolderPhotos.CoverOffset : 0,\n            ObjectId: Number(this.state.data.eventFolderPhotos.Id),\n            Mode: \"folder\",\n            CanEdit: true\n        }\n    }\n\n    onChangePage = (page: number) => {\n        if (page == 1) {\n            this.setState({ redirect: `/photo-hosting/event/${this.props.match.params.eventId}/${this.props.match.params.folderId}` });\n        } else {\n            this.setState({ redirect: `/photo-hosting/event/${this.props.match.params.eventId}/${this.props.match.params.folderId}/${page}` });\n        }\n\n    }\n\n    render() {\n        if (!this.props.user) {\n            return (<Redirect to={`/redirect?url=${`${BASE_URL}/Event/EventFolderPhotos?folderId=${(this.props as any).match.params.folderId}`}`} />)\n        }\n\n        if (this.state.redirect) {\n            return (<Redirect to={this.state.redirect} />)\n        }\n\n        return (< >\n            {this.state.loading && <div className=\"loading\" />}\n            {!this.state.loading && <><Row>\n                <Colxx xxs=\"4\">\n                    <div className=\"d-flex\">\n                        <div className=\"d-inline-block mr-4\">\n                            <Link to={`/photo-hosting/event/${this.props.match.params.eventId}`}>\n                                <Button\n                                    style={{ fontSize: \"0.8rem\" }}\n                                    color=\"primary\"\n                                    size=\"sm\"\n                                    className=\"top-right-button\"\n\n                                >\n                                    <i className=\"iconsminds-back\" /> BACK\n                                </Button>\n                            </Link>\n\n                        </div>\n                        <div className=\"d-inline-block mr-4\"></div>\n                        <h1>{this.folderInfo.Name}</h1>\n                    </div>\n                </Colxx>\n                <Colxx xxs=\"4\" className=\"d-flex justify-content-center align-items-center\">\n                    <Link to={this.state.previouseSubfolder != 0 ? `/photo-hosting/event/${this.props.match.params.eventId}/${this.state.previouseSubfolder}` : \"#\"}>\n                        <Button\n                            style={{ fontSize: \"0.8rem\", width: 150 }}\n                            color=\"primary\"\n                            size=\"md\"\n                            className=\"top-right-button mr-2\"\n                            disabled={this.state.previouseSubfolder == 0}\n                        >\n                            <i className=\"iconsminds-arrow-left\" /> PREVIOUSE\n                        </Button>\n                    </Link>\n                    <Link to={this.state.nextSubfolder != 0 ? `/photo-hosting/event/${this.props.match.params.eventId}/${this.state.nextSubfolder}` : \"#\"}>\n                        <Button\n                            style={{ fontSize: \"0.8rem\", width: 150 }}\n                            color=\"primary\"\n                            size=\"md\"\n                            className=\"top-right-button\"\n                            disabled={this.state.nextSubfolder == 0}\n                        >\n                            NEXT\n                            <i className=\"iconsminds-arrow-right\" />\n                        </Button>\n                    </Link>\n                </Colxx>\n                <Colxx xxs=\"4\">\n                    <div className=\"mb-2\">\n                        <div className=\"text-zero top-right-button-container\">\n                            <Button\n                                color=\"primary\"\n                                size=\"lg\"\n                                className=\"top-right-button\"\n                                onClick={() => { this.setState({ showAddModal: true }) }}\n                            >\n                                <i className=\"simple-icon-plus\" /> ADD NEW PHOTOS\n                            </Button>\n                            {'  '}\n\n                        </div>\n\n\n                    </div>\n\n                </Colxx>\n\n                <Colxx xxs=\"12\">\n                    <Separator className=\"mb-5\" />\n                </Colxx>\n            </Row>\n                <Row className=\"mb-1\">\n                    <Colxx xxs=\"12\">\n                        {this.parallaxData != null && <ParallaxItem canEdit={this.parallaxData.CanEdit} coverPhoto={this.parallaxData.CoverPhoto} top={this.parallaxData.Top} mode={this.parallaxData.Mode} objectId={this.parallaxData.ObjectId} />}\n                    </Colxx>\n                </Row>\n                <div className=\"disable-text-selection\">\n                    <Row>\n                        <Colxx xxs=\"12 social-image-row gallery photosView\">\n                            <Gallery targetRowHeight={200} margin={5} photos={this.galleryPhotos} renderImage={this.imageRenderer} />\n                        </Colxx>\n                    </Row>\n                    <Row>\n                        <Pagination\n                            currentPage={Number(this.paginationOptions.page)}\n                            totalPage={this.paginationOptions.pages}\n                            onChangePage={(i) => { this.onChangePage(i) }}\n                        />\n                    </Row>\n                </div>\n                {this.state.isOpen && (\n                    <Lightbox\n                        mainSrc={this.photos[this.state.photoIndex].Url}\n                        nextSrc={this.photos[(this.state.photoIndex + 1) % this.photos.length].Url}\n                        prevSrc={this.photos[(this.state.photoIndex + this.photos.length - 1) % this.photos.length].Url}\n                        onCloseRequest={() => this.setState({ isOpen: false })}\n                        onMovePrevRequest={() =>\n                            this.setState({ photoIndex: (this.state.photoIndex + this.photos.length - 1) % this.photos.length })\n                        }\n                        onMoveNextRequest={() =>\n                            this.setState({ photoIndex: (this.state.photoIndex + 1) % this.photos.length })\n                        }\n                    />\n                )}\n                {this.photos.map((image, index) => {\n                    return (<ImageSizer key={\"imageSizer-\" + index} src={image.UrlThumbnail} onLoad={(naturalWidth, naturalHeight) => { this.onLoadImage(image.Id, naturalWidth, naturalHeight) }} />)\n                })}\n                <GalleryUplodader onUploadCompleted={this.onUploadCompleted} folderId={this.state.folderId} modalOpen={this.state.showAddModal} toggleModal={() => this.setState({ showAddModal: !this.state.showAddModal })} />\n            </>}\n        </>)\n    }\n}\n\nconst mapStateToProps = ({ authUser }) => {\n    return authUser;\n};\n\nexport default connect(mapStateToProps)(PhotosView);\n","import React from \"react\";\nimport { Row, Card, CardBody, CardTitle, FormGroup, Label, Input, FormText, CustomInput, Button, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport Breadcrumb from '../../../containers/navs/Breadcrumb';\nimport { Colxx, Separator } from \"../../../components/common/CustomBootstrap\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { HomeClient } from \"../../../api/homeClient\";\nimport { Formik, Form, Field } from \"formik\";\nimport { PhotoClient } from \"../../../api/photoClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport { PhotographerClient, UserSettingsDTO } from \"../../../api/ApiClient\";\nimport { API_BASE } from \"../../../api/ApiSettings\";\nimport { AuthService } from \"../../../services/auth.service\";\nimport { BASE_URL, WEB_ORDERING_BASE_URL } from \"../../../api/settings\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\n\nexport class PhotoHostingSettings extends React.Component<any, any> {\n\n    homeClient: HomeClient = new HomeClient();\n    photoClient: PhotoClient = new PhotoClient();\n\n    photographerClient: PhotographerClient = new PhotographerClient(API_BASE)\n    authService: AuthService = new AuthService();\n    state = {\n        HelpVideoMobile: \"\",\n        HelpVideoDesktop: \"\",\n        BannerUrl: \"\",\n        loader: 0\n\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.homeClient.PhotographerDetails().then((response) => {\n            if (response.data.Data) {\n                this.setState({ MobileToken: response.data.Data.MobileToken })\n            }\n        });\n\n        this.photographerClient.settings(this.authService.getId()).then((response) => {\n            this.setState({ HelpVideoMobile: response.helpVideoMobile, HelpVideoDesktop: response.helpVideoDesktop, BannerUrl: response.bannerPhotoUrl });\n        })\n    }\n\n    get initialValues() {\n        return {\n            HelpVideoMobile: this.state.HelpVideoMobile || \"\",\n            HelpVideoDesktop: this.state.HelpVideoDesktop || \"\",\n            BannerFile: null\n\n        }\n    }\n\n    onSubmit = async (values, formik) => {\n        console.log('submit', values);\n        let videoUpdate = await this.photographerClient.edit(this.authService.getId(), values.HelpVideoDesktop, values.HelpVideoMobile, values.BannerFile != null ? { data: values.BannerFile, fileName: values.BannerFile.name } : null)\n\n\n        if (videoUpdate != null) {\n            NotificationManager.success(\"Data saved\", \"Data saved correctly\", 3000, null, null, '');\n            this.setState({ BannerUrl: videoUpdate.bannerPhotoUrl })\n        }\n\n        formik.setSubmitting(false);\n        this.setState({ loader: 0 })\n    }\n\n    showLoader = (id, isSubmitting) => {\n        return this.state.loader == id && isSubmitting;\n    }\n\n    showCustomBanner = () => {\n        window.open(this.state.BannerUrl, '_blank', 'noopener,noreferrer')\n    }\n\n    render() {\n        return (\n            <>\n                <Formik\n                    initialValues={this.initialValues}\n                    onSubmit={this.onSubmit}\n                    enableReinitialize={true}\n                >\n                    {({\n                        handleSubmit,\n                        setFieldValue,\n                        setFieldTouched,\n                        handleChange,\n                        handleBlur,\n                        values,\n                        errors,\n                        touched,\n                        isSubmitting,\n                        submitForm\n                    }) => (\n                        <Form>\n                            <Row>\n                                <Colxx xxs=\"12\">\n                                    <Breadcrumb heading=\"Settings\" match={this.props.match} />\n                                    <Separator className=\"mb-5\" />\n                                </Colxx>\n                            </Row>\n                            <Row>\n                                <Colxx xxs=\"12\">\n                                    <Card>\n                                        <CardBody>\n                                            <CardTitle>\n                                                Software settings\n                                            </CardTitle>\n\n                                            <div className=\"row\">\n                                                <div className=\"col-xs-6\">\n                                                    <FormGroup>\n                                                        <Label for=\"LabId\">\n                                                            Youtube Mobile Help Video\n                                                        </Label>\n                                                        <InputGroup>\n                                                            <Field className=\"form-control\" name=\"HelpVideoMobile\" type=\"text\" id=\"helpVideoMobile\" placeholder={\"Youtube link\"} />\n                                                        </InputGroup>\n\n                                                    </FormGroup>\n                                                </div>\n                                                <div className=\"col-xs-6\">\n                                                    <FormGroup>\n                                                        <Label for=\"LabId\">\n                                                            Youtube Desktop Help Video\n                                                        </Label>\n                                                        <InputGroup>\n                                                            <Field className=\"form-control\" name=\"HelpVideoDesktop\" type=\"text\" id=\"helpVideoDesktop\" placeholder={\"Youtube link\"} />\n                                                        </InputGroup>\n\n                                                    </FormGroup>\n                                                </div>\n                                            </div>\n\n\n                                            <Button disabled={this.showLoader(1, isSubmitting)} type=\"submit\" color=\"primary\" className=\"mt-4\" onClick={() => { this.setState({ loader: 1 }) }}>\n                                                {this.showLoader(1, isSubmitting) && <FontAwesomeIcon size=\"lg\" icon={faSpinner} spin={true} style={{ color: \"#fff\" }} />} Save\n                                            </Button>\n\n                                        </CardBody>\n                                    </Card>\n                                </Colxx>\n                            </Row>\n                            <Row className=\"mt-3\">\n                                <Colxx xxs=\"12\">\n                                    <Card>\n                                        <CardBody>\n                                            <CardTitle>\n                                                Banner photo\n                                            </CardTitle>\n\n                                            <FormGroup>\n                                                <InputGroup>\n                                                    <CustomInput\n                                                        type=\"file\"\n                                                        id=\"promotion\"\n                                                        name=\"promotion\"\n                                                        onChange={(event) => {\n                                                            if (event != null && event.currentTarget != null && event.currentTarget.files) {\n                                                                setFieldValue(\"BannerFile\", event.currentTarget.files[0]);\n                                                            }\n                                                        }} />\n\n                                                    <InputGroupAddon onClick={(e) => this.showCustomBanner()} addonType=\"append\" style={{ cursor: this.state.BannerUrl != \"\" && this.state.BannerUrl != null ? \"pointer\" : \"default\" }}>Show</InputGroupAddon>\n                                                </InputGroup>\n                                                <FormText color=\"muted\">\n                                                    (maximu size 1440x2560 72ppi .jpg or .png\n                                                </FormText>\n                                            </FormGroup>\n\n                                            <Button disabled={this.showLoader(2, isSubmitting)} type=\"submit\" color=\"primary\" className=\"mt-1\" onClick={() => { this.setState({ loader: 2 }) }}>\n                                                {this.showLoader(2, isSubmitting) && <FontAwesomeIcon size=\"lg\" icon={faSpinner} spin={true} style={{ color: \"#fff\" }} />} Save\n                                            </Button>\n\n                                        </CardBody>\n                                    </Card>\n                                </Colxx>\n                            </Row>\n                            <Row className=\"mt-3\">\n                                <Colxx xxs=\"12\">\n                                    <Card>\n                                        <CardBody>\n                                            <CardTitle>\n                                                Direct link to your gallery\n                                            </CardTitle>\n\n                                            <div className=\"row\">\n                                                <div className=\"col-xs-12\">\n                                                    <a href={`${BASE_URL}/Event/List/${this.authService.getId()}`} target=\"_blank\">{`${BASE_URL}/Event/List/${this.authService.getId()}`}</a>\n                                                </div>\n                                            </div>\n\n                                        </CardBody>\n                                    </Card>\n                                </Colxx>\n                            </Row>\n\n                        </Form>\n                    )}\n                </Formik>\n            </>\n        );\n    }\n}\n\nexport default PhotoHostingSettings;","import React, { Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport AppLayout from '../../layout/AppLayout';\nimport PhotosView from './events/photos/photosView';\nimport AuthRoute from \"../../components/authRoute\";\nimport PhotoHostingSettings from './settings';\n\nconst DefaultView = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './events/index')\n);\n\nconst OverviewView = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './overview')\n);\n\nconst UpdatesView = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './updates')\n);\n\nconst SubfolderView = React.lazy(() =>\n  import(/* webpackChunkName: \"dashboard-default\" */ './events/subfolders')\n);\n\nconst Dashboard = (props) => {\n  return (<AppLayout>\n    <div className=\"photohosting-wrapper\">\n      <Suspense fallback={<div className=\"loading\" />}>\n        <Switch>\n          <AuthRoute authUser={props.authUser} path={`${props.match.url}/overview`} component={OverviewView} />\n          <AuthRoute authUser={props.authUser} path={`${props.match.url}/updates`} component={UpdatesView} />\n          <AuthRoute authUser={props.authUser} path={`${props.match.url}/settings`} component={PhotoHostingSettings} />\n          <Route path={`${props.match.url}/event/:eventId/:folderId/:page?`} render={(props) => <PhotosView {...props} />} />\n          <Route path={`${props.match.url}/event/:eventId`} render={(props) => <SubfolderView {...props} />} />\n          <Route path={`${props.match.url}/:photographerId?`} render={(props) => <DefaultView {...props} />} />\n          <Route path={`${props.match.url}`} render={(props) => <DefaultView {...props} />} />\n          <Redirect to=\"/error\" />\n        </Switch>\n      </Suspense>\n    </div>\n  </AppLayout>)\n\n}\nexport default Dashboard;\n","import React from \"react\";\n\nimport \"./SummaryButton.scss\";\nimport { IFormat } from \"./Models/Format\";\nimport { ShoppingCart, OrderShoppingCart, IShoppingCart } from \"./Models/ShoppingCart\";\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, Button } from \"reactstrap\";\n\nexport class SummaryButtonFilter extends React.Component<any, any> {\n\n    shoppingCart: IShoppingCart;\n\n    constructor(props: any) {\n        super(props);\n\n        this.shoppingCart = new OrderShoppingCart(this.props.foldersIds as number[]);\n\n        this.state = {\n            currentSelect: this.props.formatFilter != null ? this.props.formatFilter : -1\n        }\n    }\n\n    formatClick = (index: number) => {\n        if (index >= 0) {\n            this.props.onChangeFormat(index);\n            //window.location.href = `/Event/EventOrderSummary?folderId=${this.props.folderId}&OrderBy=${index}`\n        } else {\n            this.props.onChangeFormat(null);\n            //window.location.href = `/Event/EventOrderSummary?folderId=${this.props.folderId}`\n        }\n    }\n\n    currentFormatName = () => {\n        if (this.props.formatFilter != null && this.props.formats[this.props.formatFilter] != null) {\n            return this.props.formats[this.props.formatFilter].Type;\n        }\n\n        return \"All formats\";\n    }\n\n    resetCart = (select: number) => {\n        if (window.confirm(\"Are you sure?\")) {\n            this.setState({ currentSelect: select });\n            this.shoppingCart.clear();\n            this.props.onResetCart();\n            //window.location.href = `/Event/EventOrderSummary?folderId=${this.props.folderId}`\n        }\n    }\n\n    onChangeSelect = (e: React.ChangeEvent<HTMLSelectElement>) => {\n        let value: number = Number(e.target.value);\n        if (value == -2) {\n            this.resetCart(value);\n        } else if (value == -1) {\n            this.setState({ currentSelect: value });\n            this.formatClick(value);\n        } else if (value >= 0) {\n            this.setState({ currentSelect: value });\n            this.formatClick(value);\n        }\n    }\n\n    get filteredFormats(): { format: IFormat, index: number }[] {\n        let formats: { format: IFormat, index: number }[] = [];\n        this.props.formats.forEach((f, index) => {\n            if (!this.isEmptyOrSpaces(f.Type)) {\n                formats.push({ format: f, index });\n            }\n        });\n        return formats;\n    }\n\n    isEmptyOrSpaces = (str) => {\n        return str === null || str.match(/^ *$/) !== null;\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"summaryButtonFilter mobile\">\n                    <select value={this.state.currentSelect} className=\"form-control\" onChange={(e) => this.onChangeSelect(e)}>\n                        <option value={-1}>All formats ({this.shoppingCart.allPhotoCount()} photos)</option>\n\n                        {this.filteredFormats.map(format => {\n                            return (<option key={\"filterOption\" + format.index} value={format.index}>{format.format.Type} ({this.shoppingCart.getFormatItemCount(format.index)} photos)</option>)\n                        })}\n                        <option disabled>_________</option>\n                        <option value={-2}>Reset All</option>\n                    </select>\n                </div>\n                <div className=\"summaryButtonFilter desktop\">\n                    <UncontrolledDropdown className={\"d-inline-block\"}>\n                        <DropdownToggle caret color=\"primary\" outline>\n                            {this.currentFormatName()}\n                        </DropdownToggle>\n                        <DropdownMenu>\n                            <DropdownItem >\n                                <a onClick={() => this.formatClick(-1)}>\n                                    <strong>All formats</strong>\n                                    <span> ({this.shoppingCart.allPhotoCount()} photos)</span>\n                                </a>\n                            </DropdownItem>\n                            {this.filteredFormats.map(format => {\n                                return (<DropdownItem key={\"linkoption\" + format.index}>\n                                    <a onClick={() => this.formatClick(format.index)}>\n                                        <strong>{format.format.Type}</strong>\n                                        <span> ({this.shoppingCart.getFormatItemCount(format.index)} photos)</span>\n                                    </a>\n                                </DropdownItem>);\n                            })}\n                        </DropdownMenu>\n                    </UncontrolledDropdown>\n\n                    {/* <button className=\"buttonBlock  btn btn-default dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" style={{ width: \"200px\", float: \"left\" }}>\n                        <strong>{this.currentFormatName()}</strong> <span className=\"caret\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu\">\n                        <li>\n                            <a onClick={() => this.formatClick(-1)}>\n                                <strong>All formats</strong>\n                                <span> ({this.shoppingCart.allPhotoCount()} photos)</span>\n                            </a>\n                        </li>\n                        {this.filteredFormats.map(format => {\n                            return (<li key={\"linkoption\" + format.index}>\n                                <a onClick={() => this.formatClick(format.index)}>\n                                    <strong>{format.format.Type}</strong>\n                                    <span> ({this.shoppingCart.getFormatItemCount(format.index)} photos)</span>\n                                </a>\n                            </li>);\n                        })}\n\n                    </ul> */}\n                    <Button outline color=\"primary\" style={{ width: \"200px\", float: \"right\" }} onClick={() => this.resetCart(-2)}>\n                        Reset all\n                    </Button>\n                </div>\n\n            </React.Fragment>\n        );\n    }\n}\n\nexport default SummaryButtonFilter;","import React from \"react\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, FormGroup, Label } from \"reactstrap\";\nimport { Formik, Form, Field, FormikHelpers, ErrorMessage, } from \"formik\";\nimport * as Yup from \"yup\";\n\nexport interface ICheckoutFormProps {\n    toggle: (state: boolean) => void,\n    onSubmit: (data: any, actions: FormikHelpers<any>) => void\n    isOpen: boolean\n}\n\nconst CheckoutFormSchema = Yup.object().shape({\n    ClientFirstName: Yup.string().required('Field is required'),\n    ClientLastName: Yup.string().required('Field is required'),\n    PhoneNumber: Yup.string().required('Field is required'),\n    Email: Yup.string().email('Invalid email').required('Field is required'),\n});\n\nconst initialState = {\n    ClientFirstName: \"\",\n    ClientLastName: \"\",\n    PhoneNumber: \"\",\n    Email: \"\",\n    ExtraInformation: \"\"\n}\n\nexport class CheckoutForm extends React.Component<ICheckoutFormProps, any> {\n\n    onSubmit = (values, actions: FormikHelpers<any>) => {\n        this.props.onSubmit(values, actions)\n    }\n\n    render() {\n        return (<Modal\n            isOpen={this.props.isOpen}\n            size=\"lg\"\n            toggle={() => this.props.toggle(!this.props.isOpen)}\n        >\n            <Formik initialValues={initialState}\n                onSubmit={this.onSubmit} validationSchema={CheckoutFormSchema}>\n                {({\n                    handleSubmit,\n                    setFieldValue,\n                    setFieldTouched,\n                    values,\n                    errors,\n                    touched,\n                    isSubmitting,\n                }) => (\n                        <Form>\n                            <ModalHeader>Send Order</ModalHeader>\n                            <ModalBody>\n                                <FormGroup>\n                                    <Label for=\"ClientFirstName\">\n                                        Όνομα *\n                                </Label>\n                                    <Field className=\"form-control\" name=\"ClientFirstName\" type=\"text\" id=\"ClientFirstName\" />\n                                    {errors.ClientFirstName && touched.ClientFirstName ? (\n                                        <div className=\"invalid-feedback d-block\">\n                                            {errors.ClientFirstName}\n                                        </div>\n                                    ) : null}\n                                </FormGroup>\n                                <FormGroup>\n                                    <Label for=\"ClientLastName\">\n                                        Επίθετο *\n                                </Label>\n                                    <Field className=\"form-control\" name=\"ClientLastName\" type=\"text\" id=\"ClientLastName\" />\n                                    {errors.ClientLastName && touched.ClientLastName ? (\n                                        <div className=\"invalid-feedback d-block\">\n                                            {errors.ClientLastName}\n                                        </div>\n                                    ) : null}\n                                </FormGroup>\n                                <FormGroup>\n                                    <Label for=\"PhoneNumber\">\n                                        Τηλέφωνο επικοινωνίας *\n                                </Label>\n                                    <Field className=\"form-control\" name=\"PhoneNumber\" type=\"text\" id=\"PhoneNumber\" />\n                                    {errors.PhoneNumber && touched.PhoneNumber ? (\n                                        <div className=\"invalid-feedback d-block\">\n                                            {errors.PhoneNumber}\n                                        </div>\n                                    ) : null}\n                                </FormGroup>\n                                <FormGroup>\n                                    <Label for=\"Email\">\n                                        E-mail *\n                                </Label>\n                                    <Field className=\"form-control\" name=\"Email\" type=\"text\" id=\"Email\" />\n                                    {errors.Email && touched.Email ? (\n                                        <div className=\"invalid-feedback d-block\">\n                                            {errors.Email}\n                                        </div>\n                                    ) : null}\n                                </FormGroup>\n                                <FormGroup>\n                                    <Label for=\"ExtraInformation\">\n                                        Αφήστε ένα μήνυμα\n                                </Label>\n                                    <Field className=\"form-control\" name=\"ExtraInformation\" type=\"textarea\" id=\"ExtraInformation\" component=\"textarea\" />\n                                </FormGroup>\n                                {isSubmitting && <div className={\"w-100 h-100\"} style={{ position: \"absolute\", top: 0, left: 0, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", backgroundColor: \"rgba(255,255,255,0.6)\" }}><div className=\"loading\" style={{ left: \"auto\", top: \"auto\" }} /></div>}\n                            </ModalBody>\n                            <ModalFooter>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                >\n\n                                    Send\n                    </Button>{' '}\n                                <Button\n                                    color=\"secondary\"\n                                    onClick={() => this.props.toggle(false)}\n                                >\n                                    Cancel\n                    </Button>\n                            </ModalFooter>\n\n                        </Form>)}\n\n            </Formik>\n        </Modal>)\n    }\n\n}","import React from \"react\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport { Row, Button } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport { ParallaxItem } from \"../../../components/parallax/parallaxItem\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons'\nimport { Redirect, Link } from \"react-router-dom\";\nimport { ClientLayoutHeader } from \"../../../layout/ClientLayoutHeader\";\nimport EventFolderPhotos from \"../folder/EventFolderPhotos/EventFolderPhotos\";\nimport SummaryButtonFilter from \"../folder/EventFolderPhotos/SummaryButton\";\n\nimport \"./Checkout.scss\";\nimport { CheckoutForm } from \"./CheckoutForm\";\nimport { FormikHelpers } from \"formik\";\n\nexport class CheckoutView extends React.Component<any, any> {\n\n    ref = React.createRef<EventFolderPhotos>();\n\n    state = {\n        redirect: \"\",\n        response: null,\n        page: 0,\n        showSendForm: false\n    }\n\n    eventClient: EventClient;\n\n    constructor(props: any) {\n        super(props);\n\n        this.eventClient = new EventClient();\n    }\n\n    componentDidMount() {\n        this.populateData();\n    }\n\n    populateData() {\n        this.setState({ response: null });\n        this.eventClient.EventOrderSummary2(this.props.match.params.folderId, this.props.match.params.order ? this.props.match.params.order : null).then(response => {\n            if (response.data.Redirect) {\n                this.setState({ redirect: response.data.Redirect });\n            } else\n                if (response.data.Error) {\n                    NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n                } else {\n                    if (response.data.Data != null) {\n                        this.setState({\n                            currentPage: response.data.Data.Page,\n                            totalPage: response.data.Data.PageCount,\n                            eventData: response.data.Data,\n                            response: response.data.Data\n                        });\n                    }\n                }\n        });\n    }\n\n    public componentDidUpdate(prevProps) {\n        if (this.props.location.pathname != prevProps.location.pathname) {\n            this.setState({ redirect: \"\" });\n            this.populateData();\n        }\n    }\n\n\n\n    get parallaxData() {\n        if (this.state.response == null) {\n            return null;\n        }\n\n        return {\n            CoverPhoto: (this.state.response as any).EventCoverPhotoUrl,\n            Top: (this.state.response as any).CoverOffset ? (this.state.response as any).CoverOffset : 0,\n            ObjectId: Number((this.state.response as any).EventId),\n            Mode: \"folder\",\n            CanEdit: false\n        }\n    }\n\n    get folderTitle() {\n        if (this.state.response && (this.state.response as any).eventFolderList) {\n            return (this.state.response as any).CurrentFolderName;\n        }\n        return \"\";\n    }\n\n    changeFolder = (next: boolean) => {\n\n        this.eventClient.ChangeFolder(this.props.match.params.folderId, next).then((response) => {\n            this.setState({ redirect: response.data.Redirect });\n        });\n    }\n\n    showOrderSendForm = () => {\n        this.setState({ showSendForm: true })\n    }\n\n    toggleForm = (show: boolean) => {\n        this.setState({ showSendForm: show });\n    }\n\n    onSubmit = (data: any, actions: FormikHelpers<any>) => {\n        if (this.ref.current) {\n            this.ref.current.sendOrder2(data).then(response => {\n                if (response.data.Error) {\n                    NotificationManager.error(\"Saving error\", response.data.Error, 3000, null, null, '');\n                    actions.setSubmitting(false);\n                } else {\n                    NotificationManager.success(\"Order created\", \"\", 10000, null, null, '');\n                    actions.setSubmitting(false);\n                    this.setState({ showSendForm: false, redirect: `/portal/event/${this.props.match.params.eventId}` });\n                }\n            }).catch(() => {\n                NotificationManager.error(\"Saving error\", \"Something went wrong\", 3000, null, null, '');\n                actions.setSubmitting(false);\n            });\n\n\n\n        } else {\n            NotificationManager.error(\"Saving error\", \"Something went wrong\", 3000, null, null, '');\n            actions.setSubmitting(false);\n        }\n    }\n\n    onResetCart = () => {\n        this.setState({ redirect: `/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}` })\n    }\n    onChangeFormat = (format) => {\n        if (this.props.match.params.order != format) {\n            if (format != null) {\n                this.setState({ redirect: `/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}/checkout/format/${format}` });\n            } else {\n                this.setState({ redirect: `/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}/checkout` });\n            }\n        }\n    }\n\n    render() {\n\n        if (this.state.redirect) {\n            return (<Redirect to={this.state.redirect} />);\n        }\n\n        return (<>\n            <div className=\"client-container-header-checkout\">\n                <Row className=\"h-100\">\n                    <Colxx xxs=\"6\" className={\"pl-4 d-flex justify-content-flex-start align-items-center\"}>\n                        <Link to={`/portal/event/${this.props.match.params.eventId}/folder/${this.props.match.params.folderId}`}>\n                            <Button color=\"light\">\n                                Back\n                            </Button>\n                        </Link>\n                    </Colxx>\n\n                    <Colxx xxs=\"6\" className={\"pr-4 text-right d-flex justify-content-end align-items-center\"}>\n                        <Button color=\"light\" onClick={() => this.showOrderSendForm()}>\n                            <div className=\"glyph-icon iconsminds-mail-send d-inline-block\"></div> Send Order\n                        </Button>\n                    </Colxx>\n\n                </Row>\n            </div >\n            <Row style={{ marginBottom: \"18px\" }}>\n                <Colxx className={\"p-0\"} xxs=\"12\">\n                    {this.parallaxData != null && <ParallaxItem canEdit={this.parallaxData.CanEdit} coverPhoto={this.parallaxData.CoverPhoto} top={this.parallaxData.Top} mode={this.parallaxData.Mode} objectId={this.parallaxData.ObjectId} />}\n                </Colxx>\n            </Row>\n            <Row style={{ marginBottom: 8 }}>\n                <Colxx xxs=\"12\">\n                    {this.state.response != null && <SummaryButtonFilter\n                        onChangeFormat={this.onChangeFormat}\n                        onResetCart={this.onResetCart}\n                        folder={(this.state.response as any).CurrentFolderName}\n                        formats={(this.state.response as any).FormatInfo}\n                        folderId={(this.state.response as any).Id}\n                        eventId={(this.state.response as any).EventId}\n                        formatFilter={(this.state.response as any).OrderBy}\n                        foldersIds={(this.state.response as any).PhotoList.map(x => x.FolderId).filter((value, index, self) => { return self.indexOf(value) === index; })}\n                    />}\n                </Colxx>\n            </Row>\n            <Row>\n                <Colxx xxs=\"12\" className=\"text-center\">\n                    {this.folderTitle && <h1><span className=\"mr-4\" style={{ cursor: \"pointer\" }} onClick={() => this.changeFolder(false)}><FontAwesomeIcon icon={faAngleLeft} /></span>{this.folderTitle}<span onClick={() => this.changeFolder(true)} className=\"ml-4\" style={{ cursor: \"pointer\" }}><FontAwesomeIcon icon={faAngleRight} /></span></h1>}\n                </Colxx>\n            </Row>\n            {\n                this.state.response != null && <EventFolderPhotos\n                    ref={this.ref}\n                    canLoad={false}\n                    page={this.state.page}\n                    eventId={(this.state.response as any).EventId}\n                    photoCount={(this.state.response as any).photosCount}\n                    folderId={(this.state.response as any).Id}\n                    formats={(this.state.response as any).FormatInfo}\n                    isAdmin={false}\n                    folder={(this.state.response as any).CurrentFolderName}\n                    data={(this.state.response as any).PhotoList}\n                    formatFilter={(this.state.response as any).OrderBy}\n                    favouritesOnly={false}\n                    foldersIds={(this.state.response as any).PhotoList.map(x => x.FolderId).filter((value, index, self) => { return self.indexOf(value) === index; })}\n                />\n            }\n            <CheckoutForm isOpen={this.state.showSendForm} toggle={(state) => this.toggleForm(state)} onSubmit={this.onSubmit} />\n        </>\n        );\n    }\n}\n\nexport default CheckoutView;","import React from 'react';\n\nimport \"./ClientLayout.scss\";\nimport { Colxx } from '../components/common/CustomBootstrap';\nimport { Row, Button } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart } from '@fortawesome/free-regular-svg-icons'\n\nexport class ClientLayout extends React.Component<any, any> {\n\n    constructor(props: any) {\n        super(props);\n        console.log(this.props.children)\n    }\n\n    render() {\n        return (\n            <>\n                <div className=\"container-fluid main-container\">{this.props.children}</div>\n            </>\n        )\n    }\n}\n\n\nexport default ClientLayout;\n","import React, { Suspense } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { ClientLayout } from '../../layout/ClientLayout';\n\n\nconst ViewEvent = React.lazy(() =>\n    import(/* webpackChunkName: \"views\" */ './event/Event')\n);\n\nconst ViewEventLogin = React.lazy(() =>\n    import(/* webpackChunkName: \"views\" */ './eventlogin/EventLogin')\n);\n\nconst ViewEventFolder = React.lazy(() => import(/* webpackChunkName: \"views\" */ './folder/Folder'));\n\nconst ViewFavourites = React.lazy(() => import(/* webpackChunkName: \"views\" */ './favourites/Favourites'));\n\nconst ViewCheckout = React.lazy(() => import(/* webpackChunkName: \"views\" */ './checkout/Checkout'));\n\nconst ViewDirectEvent = React.lazy(() => import(/* webpackChunkName: \"views\" */ './direct/DirectEventView'));\n\nconst ViewPhotographer = React.lazy(() => import(/* webpackChunkName: \"views\" */ './photographer/PhotographerView'));\n\nconst ViewNewAccount = React.lazy(() => import(/* webpackChunkName: \"views\" */ './newaccount/NewAccountView'));\n\nexport class Portal extends React.Component<any, any> {\n    render() {\n        return (<ClientLayout>\n            <Suspense fallback={<div className=\"loading\" />}>\n                <Switch>\n                    <Route exact path={`${this.props.match.url}`} render={(props) => <ViewEventLogin {...props} />} />\n                    <Route exact path={`${this.props.match.url}/photographer/:photographerId`} render={(props) => <ViewPhotographer {...props} />} />\n                    <Route exact path={`${this.props.match.url}/event/:eventId`} render={(props) => <ViewEvent {...props} />} />\n\n                    <Route exact path={`${this.props.match.url}/event/:eventId/folder/:folderId/favourites`} render={(props) => <ViewFavourites {...props} />} />\n                    <Route exact path={`${this.props.match.url}/event/:eventId/folder/:folderId/checkout`} render={(props) => <ViewCheckout {...props} />} />\n                    <Route exact path={`${this.props.match.url}/event/:eventId/folder/:folderId/checkout/format/:order`} render={(props) => <ViewCheckout {...props} />} />\n                    <Route exact path={`${this.props.match.url}/event/:eventId/folder/:folderId/:page?`} render={(props) => <ViewEventFolder {...props} />} />\n                    <Route exact path={`${this.props.match.url}/direct/:eventGuid?`} render={(props) => <ViewDirectEvent {...props} />} />\n                    <Route exact path={`${this.props.match.url}/newaccount`} render={(props) => <ViewNewAccount {...props} />} />\n                    <Redirect to=\"/error\" />\n                </Switch>\n            </Suspense>\n        </ClientLayout>);\n    }\n}\n\nexport default Portal;\n","import React from \"react\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport { Card, CardImg, CardBody, Row, CardSubtitle, Badge, CardText, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from \"reactstrap\";\nimport { NavLink } from \"react-router-dom\"\n\n\nexport interface ISubfolderListItemViewProps {\n    data: any,\n    eventId: number\n}\n\ntype IProps = ISubfolderListItemViewProps\nexport class FolderItem extends React.Component<IProps, any> {\n    state = {\n        isImage: true,\n        data: {}\n    }\n\n    constructor(props: IProps) {\n        super(props);\n    }\n\n    onImageError = () => {\n        this.setState({ isImage: false })\n    }\n\n    render() {\n        return (<Colxx sm=\"6\" lg=\"4\" xl=\"3\" className=\"mb-3 eventListItem\" key={this.props.data.FolderId}>\n            <NavLink to={`/portal/event/${this.props.eventId}/folder/${this.props.data.FolderId}`} className=\"w-40 w-sm-100\">\n                <Card onClick={() => { }}>\n                    <div className=\"position-relative\">\n                        <CardImg top alt={this.props.data.Name} src={this.state.isImage ? this.props.data.ThumbSrc : \"https://via.placeholder.com/600?text=No%20image\"} onError={(e => this.onImageError())} />\n                    </div>\n                    <CardBody>\n                        <CardSubtitle className=\"mb-4\">\n                            {this.props.data.Name}\n                        </CardSubtitle>\n                    </CardBody>\n\n                </Card>\n            </NavLink>\n        </Colxx >)\n    }\n}\n\n\nexport default FolderItem;\n","import React from \"react\";\nimport { EventClient } from \"../../../api/eventsClient\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport { IFolder } from \"../../../models/Folder\";\nimport { Row, Pagination } from \"reactstrap\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport ParallaxItem from \"../../../components/parallax/parallaxItem\";\nimport { SubfolderListItemView } from \"../../photoHosting/events/subfolderitem\";\nimport FolderItem from \"./FolderItem\";\nimport { Redirect } from \"react-router-dom\"\nimport { ClientLayoutHeader } from \"../../../layout/ClientLayoutHeader\";\n\nexport class EventView extends React.Component<any, any> {\n    eventClient: EventClient;\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            response: null,\n            currentPage: 0,\n            totalPage: 0,\n            redirect: \"\"\n        }\n\n        this.eventClient = new EventClient();\n    }\n\n    get folders(): IFolder[] {\n        if (this.state.response && this.state.response.eventFolderList && this.state.response.eventFolderList.Folders) {\n            return this.state.response.eventFolderList.Folders\n        }\n        return [];\n    }\n\n    get eventTitle() {\n        if (this.state.response && this.state.response.eventFolderList) {\n            return this.state.response.eventFolderList.EventName;\n        }\n        return \"\";\n    }\n\n    componentDidMount() {\n        this.eventClient.EventFoldersList(this.props.match.params.eventId).then(response => {\n            if (response.data.Redirect) {\n                this.setState({ redirect: response.data.Redirect });\n            } else\n                if (response.data.Error) {\n                    NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n                } else {\n                    if (response.data.Data != null) {\n                        this.setState({\n                            currentPage: response.data.Data.Page,\n                            totalPage: response.data.Data.PageCount,\n                            eventData: response.data.Data,\n                            response: response.data.Data\n                        });\n                    }\n                }\n        });\n    }\n\n    get parallaxData() {\n        if (this.state.response == null) {\n            return null;\n        }\n\n        return {\n            CoverPhoto: this.state.response.eventFolderList.CoverPhoto,\n            Top: this.state.response.eventFolderList.CoverOffset ? this.state.response.eventFolderList.CoverOffset : 0,\n            ObjectId: Number(this.state.response.eventFolderList.EventId),\n            Mode: \"event\",\n            CanEdit: false\n        }\n    }\n\n    firstFolderId = () => {\n        if (this.state.response != null && this.state.response.eventFolderList != null && this.state.response.eventFolderList.Folders != null) {\n            return this.state.response.eventFolderList.Folders[0].FolderId;\n        }\n\n        return \"\";\n    }\n\n    render() {\n        if (this.state.redirect) {\n            return (<Redirect to={this.state.redirect} />);\n        }\n\n        return (<>\n            <ClientLayoutHeader checkoutUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.firstFolderId()}/checkout`} favouriteUrl={`/portal/event/${this.props.match.params.eventId}/folder/${this.firstFolderId()}/favourites`} />\n            <Row style={{ marginBottom: \"18px\" }}>\n                <Colxx className={\"p-0\"} xxs=\"12\">\n                    {this.parallaxData != null && <ParallaxItem canEdit={this.parallaxData.CanEdit} coverPhoto={this.parallaxData.CoverPhoto} top={this.parallaxData.Top} mode={this.parallaxData.Mode} objectId={this.parallaxData.ObjectId} />}\n                </Colxx>\n            </Row>\n            <Row>\n                <Colxx xxs=\"12\" className=\"text-center\">\n                    <h1>{this.eventTitle}</h1>\n                </Colxx>\n            </Row>\n            <Row>\n\n                {this.folders.map((subfolder, index) => {\n                    return (<FolderItem key={subfolder.FolderId} eventId={this.props.match.params.eventId} data={subfolder} />);\n                })}\n                {/* <Pagination\n                    currentPage={this.state.currentPage}\n                    totalPage={this.state.totalPage}\n                    onChangePage={(i) => { }}\n                /> */}\n            </Row>\n        </>)\n    }\n}\n\nexport default EventView;","import { EventClient } from \"../../../api/eventsClient\";\nimport React from \"react\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport { Card, CardImg, Badge, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, CardBody, CardSubtitle } from \"reactstrap\";\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport { NavLink } from \"react-router-dom\";\n\nexport class EventItemView extends React.Component<any, any> {\n\n    eventClient: EventClient;\n\n    state = {\n        isImage: true,\n        data: {}\n    }\n\n    constructor(props: any) {\n        super(props);\n\n        this.eventClient = new EventClient();\n    }\n\n\n    onImageError = () => {\n        this.setState({ isImage: false })\n    }\n\n    render() {\n        return (<Colxx sm=\"6\" lg=\"4\" xl=\"3\" className=\"mb-3 eventListItem\" key={this.props.event.Id}>\n            <NavLink to={`/portal/event/${this.props.event.Id}`} className=\"w-100\">\n                <Card onClick={() => { }}>\n                    <div className=\"position-relative\">\n                        <CardImg top alt={this.props.event.Name} src={this.state.isImage ? this.props.event.FileSrc : \"https://via.placeholder.com/600?text=No%20image\"} onError={(e => this.onImageError())} />\n                    </div>\n                    <CardBody>\n                        <CardSubtitle className=\"mb-4\">\n                            {this.props.event.Name}\n                        </CardSubtitle>\n                    </CardBody>\n\n                </Card>\n            </NavLink>\n\n        </Colxx >)\n    }\n}\n\nexport default EventItemView;\n","import React from \"react\";\nimport { Row, Button } from \"reactstrap\";\nimport { IEventListItemViewModel } from \"../../../models/EventListItemViewModel\";\nimport Pagination from \"../../../containers/pages/Pagination\";\nimport { Colxx, Separator } from \"../../../components/common/CustomBootstrap\";\nimport Breadcrumb from '../../../containers/navs/Breadcrumb';\nimport { EventClient, IEvent, IEventClientListResponse } from \"../../../api/eventsClient\";\nimport { connect } from 'react-redux';\nimport { NotificationManager } from \"../../../components/common/react-notifications\";\nimport ParallaxItem from \"../../../components/parallax/parallaxItem\";\nimport { EventListItemView } from \"../../photoHosting/events/event\";\nimport EventItemView from \"./EventItemView\";\nimport { ClientLayoutHeader } from \"../../../layout/ClientLayoutHeader\";\n\nexport interface Event {\n    id: number,\n    img: string,\n    status: string,\n    statusColor: string,\n    date: string\n}\n\nexport interface IEventDefaultViewState {\n    events: IEvent[],\n    currentPage: number,\n    totalPage: number\n    response: IEventClientListResponse | null\n}\n\nexport class PhotographerView extends React.Component<any, IEventDefaultViewState> {\n    pageSizes = [4, 8, 12, 20];\n\n    eventClient: EventClient;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentPage: 1,\n            totalPage: 1,\n            events: [],\n            response: null\n        }\n        this.eventClient = new EventClient();\n\n\n    }\n\n    get events() {\n        let ev = [...this.state.events];\n        ev.reverse();\n        return ev;\n    }\n\n    componentDidMount() {\n        console.log(this.props);\n        this.populateData();\n    }\n\n    populateData = () => {\n        this.eventClient.List(this.props.match.params.photographerId).then((response) => {\n            if (response.data.Error) {\n                NotificationManager.error(response.data.Error, 'Error', 3000, null, null, '');\n            } else {\n                if (response.data.Data != null) {\n                    this.setState({\n                        currentPage: response.data.Data.Page,\n                        totalPage: response.data.Data.PageCount,\n                        events: response.data.Data.EventsList,\n                        response: response.data.Data\n                    });\n                }\n            }\n\n        });\n    }\n\n\n\n    get parallaxData() {\n        if (this.state.response == null) {\n            return null;\n        }\n\n        return {\n            CoverPhoto: this.state.response.CoverPhotoUrl,\n            Top: this.state.response.CoverOffset ? this.state.response.CoverOffset : 0,\n            ObjectId: Number(this.state.response.PhotographerId),\n            Mode: \"photographer\",\n            CanEdit: false\n        }\n    }\n\n    render() {\n        return (<>\n            <ClientLayoutHeader searchText=\"Event ID\" searchUrl=\"/portal\" />\n            <Row style={{ marginBottom: \"18px\" }}>\n                <Colxx className={\"p-0\"} xxs=\"12\">\n                    {this.parallaxData != null && <ParallaxItem canEdit={this.parallaxData.CanEdit} coverPhoto={this.parallaxData.CoverPhoto} top={this.parallaxData.Top} mode={this.parallaxData.Mode} objectId={this.parallaxData.ObjectId} />}\n                </Colxx>\n            </Row>\n            <div className=\"disable-text-selection\">\n                <Row>\n                    {this.events?.map((event, index) => {\n                        return (<EventItemView key={event.Id} event={event} />)\n                    })}\n                    <Pagination\n                        currentPage={this.state.currentPage}\n                        totalPage={this.state.totalPage}\n                        onChangePage={(i) => { }}\n                    />\n                </Row>\n            </div>\n\n        </>)\n    }\n}\n\nexport default PhotographerView;\n"],"sourceRoot":""}